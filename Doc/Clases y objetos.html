<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	

<div id="language.oop5" class="chapter"><hr />
 <h1>Clases y objetos</h1>
<h2>Tabla de contenidos</h2><ul class="chunklist chunklist_chapter"><li><a href="#oop5.intro">Introducci&oacute;n</a></li><li><a href="#language.oop5.basic">Lo b&aacute;sico</a></li><li><a href="#language.oop5.properties">Propiedades</a></li><li><a href="#language.oop5.constants">Constantes de clases</a></li><li><a href="#language.oop5.autoload">Autocarga de clases</a></li><li><a href="#language.oop5.decon">Constructores y destructores</a></li><li><a href="#language.oop5.visibility">Visibilidad</a></li><li><a href="#language.oop5.inheritance">Herencia de Objetos</a></li><li><a href="#language.oop5.paamayim-nekudotayim">Operador de Resoluci&oacute;n de &Aacute;mbito (::)</a></li><li><a href="#language.oop5.static">La palabra reservada 'static'</a></li><li><a href="#language.oop5.abstract">Abstracci&oacute;n de clases</a></li><li><a href="#language.oop5.interfaces">Interfaces de objetos</a></li><li><a href="#language.oop5.traits">Rasgos (Traits)</a></li><li><a href="#language.oop5.anonymous">Clases an&oacute;nimas</a></li><li><a href="#language.oop5.overloading">Sobrecarga</a></li><li><a href="#language.oop5.iterations">Iteraci&oacute;n de objetos</a></li><li><a href="#language.oop5.magic">M&eacute;todos m&aacute;gicos</a></li><li><a href="#language.oop5.final">Palabra clave Final</a></li><li><a href="#language.oop5.cloning">Clonaci&oacute;n de Objetos</a></li><li><a href="#language.oop5.object-comparison">Comparaci&oacute;n de Objetos</a></li><li><a href="#language.oop5.typehinting">Determinaci&oacute;n de tipos</a></li><li><a href="#language.oop5.late-static-bindings">Enlaces est&aacute;ticos en tiempo de ejecuci&oacute;n</a></li><li><a href="#language.oop5.references">Objetos y referencias</a></li><li><a href="#language.oop5.serialization">Serializaci&oacute;n de objetos</a></li><li><a href="#language.oop5.changelog">Registro de cambios de la POO</a></li></ul>

 <div id="oop5.intro" class="sect1"><hr />
  <h2 class="title">Introducción</h2>
  <p class="para">
   A partir de PHP 5, el modelo de objetos ha sido reescrito para tener en cuenta un mejor
   rendimiento y mayor funcionalidad. Este fue un cambio importante a partir de PHP 4. 
   PHP 5 tiene un modelo de objetos completo.
  </p>
  <p class="para">
   Entre las características de PHP 5 están la inclusión de la 
   <a href="#language.oop5.visibility" class="link">visibilidad</a>, 
   clases y métodos <a href="#language.oop5.abstract" class="link">abstractos</a> 
   y <a href="#language.oop5.final" class="link">finales</a>, 
   <a href="#language.oop5.magic" class="link">métodos mágicos</a> adicionales, 
   <a href="#language.oop5.interfaces" class="link">interfaces</a>, 
   <a href="#language.oop5.cloning" class="link">clonación</a> y
   <a href="#language.oop5.typehinting" class="link">determinación de tipos</a>. 
  </p>
  <p class="para">
   PHP trata los objetos de la misma manera que las referencias o manejadores, lo que significa que 
   cada variable contiene una referencia a un objeto en lugar de una copia de todo el objeto. Véanse los
   <a href="#language.oop5.references" class="link">Objetos y referencias</a> 
  </p>
  <div class="tip"><strong class="tip">Sugerencia</strong><p class="simpara">Vea también
<a href="#userlandnaming" class="xref">Gu&iacute;a de entorno de usuario para nombres</a>.</p></div>
 </div>
<hr />

 
 




<div id="language.oop5.basic" class="sect1"><hr />
 <h2 class="title">Lo básico</h2>
 
 <div class="sect2" id="language.oop5.basic.class">
  <h3 class="title">class</h3>
  <p class="para">
   La definición básica de una clase comienza con la palabra
   reservada <em>class</em>, seguida de un nombre de clase,
   y continuando con un par de llaves que encierran las definiciones
   de las propiedades y métodos pertenecientes a dicha clase.
  </p>
  <p class="para">
   El nombre de clase puede ser cualquier etiqueta válida, siempre que no sea
   una <a href="#reserved" class="link">palabra reservada</a> de PHP. Un nombre válido
   de clase comienza con una letra o un guión bajo, seguido de una cantidad arbitraria de
   letras, números o guiones bajos. Como expresión regular, se
   expresaría de la siguiente forma:
   <em>^[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*$</em>.
  </p>
  <p class="para">
   Una clase puede tener sus propias
   <a href="#language.oop5.constants" class="link">constantes</a>, <a href="#language.oop5.properties" class="link">variables</a>
   (llamadas &quot;propiedades&quot;), y funciones (llamados &quot;métodos&quot;).
  </p>
  <div class="example" id="example-210">
   <p><strong>Ejemplo #1 Definición de una clase sencilla</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">ClaseSencilla<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Declaración&nbsp;de&nbsp;una&nbsp;propiedad<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'un&nbsp;valor&nbsp;predeterminado'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Declaración&nbsp;de&nbsp;un&nbsp;método<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">mostrarVar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">var</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <p class="para">
   La pseudovariable <var class="varname"><var class="varname">$this</var></var> está disponible cuando un
   método es invocado dentro del contexto de un
   objeto. <var class="varname"><var class="varname">$this</var></var> es una referencia al objeto
   invocador (usualmente el objeto al cual el método pertenece, aunque
   puede que sea otro objeto si el método es llamado
   <a href="#language.oop5.static" class="link">estáticamente</a> desde el contexto
   de un objeto secundario).
   A partir de PHP 7.0.0, la llamada estática a un método no estático desde un contexto
   incompatible resulta en que $this no esté definido dentro del método. Una llamada
   estática a un método no estático desde un contexto no compatible está obsoleta
   desde PHP 5.6.0. A partir de PHP 7.0.0, una llamada estática a un método no
   estático está obsoleta en general (incluso si se llama desde un contexto
   compatible). Antes de PHP 5.6.0, tales llamadas ya ocasionaban un aviso de estrictez.
  </p>
  <p class="para">
   <div class="example" id="language.oop5.basic.class.this">
    <p><strong>Ejemplo #2 Algunos ejemplos de la pseudovariable <var class="varname"><var class="varname">$this</var></var></strong></p>
    <div class="example-contents"><p>
     Se asume que para este ejemplo error_reporting está inhabilitado;
     de lo contrario, el siguiente código emitirá avisos de estrictez y obsolescencia,
     respectivamente, dependiendo de la versión de PHP.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">A<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'$this&nbsp;está&nbsp;definida&nbsp;('</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">")\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"\$this&nbsp;no&nbsp;está&nbsp;definida.\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">B<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">::</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">A</span><span style="color: #007700">::</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$b</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bar</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">B</span><span style="color: #007700">::</span><span style="color: #0000BB">bar</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>Salida del ejemplo anterior en PHP 5:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
$this está definida (A)
$this no está definida.
$this está definida (B)
$this no está definida.
</pre></div>
    </div>
    <div class="example-contents"><p>Salida del ejemplo anterior en PHP 7:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
$this está definida (A)
$this no está definida.
$this no está definida.
$this no está definida.
</pre></div>
    </div>
   </div>
  </p>
 </div>
 
 <div class="sect2" id="language.oop5.basic.new">
  <h3 class="title">new</h3>
  <p class="para">
   Para crear una instancia de una clase, se debe emplear la palabra reservada
   <em>new</em>. Un objeto se creará siempre a menos que el objeto tenga un
   <a href="#language.oop5.decon" class="link">constructor</a> que arroje una
   <a href="#language.exceptions" class="link">excepción</a> en caso de error. Las
   clases deberían ser definidas antes de la instanciación (y en algunos casos
   esto es un requerimiento).
  </p>
  <p class="para">
   Si se emplea un <span class="type"><a href="#language.types.string" class="type string">string</a></span> que contenga el nombre de una clase con
   <em>new</em>, se creará una nueva instancia de esa clase. Si
   la clase estuviera en un espacio de nombres, se debe utilizar su nombre completo
   al realizar esto.
  </p>
  <div class="example" id="example-212">
   <p><strong>Ejemplo #3 Creación de una instancia</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$instancia&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ClaseSencilla</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;Esto&nbsp;también&nbsp;se&nbsp;puede&nbsp;hacer&nbsp;con&nbsp;una&nbsp;variable:<br /></span><span style="color: #0000BB">$nombreClase&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'ClaseSencilla'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$instancia&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">$nombreClase</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;new&nbsp;ClaseSencilla()<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <p class="para">
   En el contexto de una clase, es posible crear un nuevo objeto con
   <em>new self</em> y <em>new parent</em>.
  </p>
  <p class="para">
   Cuando se asigna una instancia ya creada de una clase a una nueva variable, ésta última
   accederá a la misma instancia que el objeto que le fue asignado. Esta
   conducta es la misma que cuando se pasan instancias a una función. Se puede
   realizar una copia de un objeto ya creado a través de la
   <a href="#language.oop5.cloning" class="link">clonación</a> del mismo.
  </p>
  <div class="example" id="example-213">
   <p><strong>Ejemplo #4 Asignación de objetos</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$instancia&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ClaseSencilla</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">$asignada&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;&nbsp;</span><span style="color: #0000BB">$instancia</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$referencia&nbsp;</span><span style="color: #007700">=&amp;&nbsp;</span><span style="color: #0000BB">$instancia</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$instancia</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">var&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'$asignada&nbsp;tendrá&nbsp;este&nbsp;valor'</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$instancia&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;$instancia&nbsp;y&nbsp;$referencia&nbsp;son&nbsp;null<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$instancia</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$referencia</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$asignada</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
NULL
NULL
object(ClaseSencilla)#1 (1) {
   [&quot;var&quot;]=&gt;
     string(27) &quot;$asignada tendrá este valor&quot;
}
</pre></div>
   </div>
  </div>
  <p class="para">
   PHP 5.3.0 introdujo un par de formas nuevas para crear instancias de un
   objeto:
  </p>
  <div class="example" id="example-214">
   <p><strong>Ejemplo #5 Creación de nuevos objetos</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Prueba<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">getNew</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;static;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">Hija&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Prueba<br /></span><span style="color: #007700">{}<br /><br /></span><span style="color: #0000BB">$obj1&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Prueba</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$obj2&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">$obj1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$obj1&nbsp;</span><span style="color: #007700">!==&nbsp;</span><span style="color: #0000BB">$obj2</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$obj3&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Prueba</span><span style="color: #007700">::</span><span style="color: #0000BB">getNew</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$obj3&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">Prueba</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$obj4&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">Hija</span><span style="color: #007700">::</span><span style="color: #0000BB">getNew</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$obj4&nbsp;</span><span style="color: #007700">instanceof&nbsp;</span><span style="color: #0000BB">Hija</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
bool(true)
bool(true)
bool(true)
</pre></div>
   </div>
  </div>
  
  <p class="para">
   PHP 5.4.0 introdujo la posibilidad de acceder a un miembro de un objeto recién
   crecado en una única expresión:
  </p>
  <div class="example" id="example-215">
   <p><strong>Ejemplo #6 Acceder a un mimebro de un objeto recién creado</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;(new&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">())-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo 
sería algo similar a:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
2016
</pre></div>
   </div>
  </div>
 </div>
 
 <div class="sect2" id="language.oop5.basic.properties-methods">
  <h3 class="title">Propiedades y métodos</h3>
  <p class="para">
   Las propiedades y métodos de una clase viven en «espacios de nombres» diferentes, por tanto, es
   posible tener una propiedad y un método con el mismo nombre. Al hacer referencia tanto
   a una propiedad como a un método se utiliza la misma notación, y si se accederá a la
   propiedad o se llamará al método, solamente depende del contexto,
   es decir, si el empleo es el acceso a una variable o la llamada a una función.
  </p>
  <div class="example" id="example-216">
   <p><strong>Ejemplo #7 Acceso a propiedad contra llamada a método</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
class&nbsp;Foo<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;$bar&nbsp;=&nbsp;'propiedad';<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;bar()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;'método';<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />$obj&nbsp;=&nbsp;new&nbsp;Foo();<br />echo&nbsp;$obj-&gt;bar,&nbsp;PHP_EOL,&nbsp;$obj-&gt;bar(),&nbsp;PHP_EOL;</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
propiedad
método
</pre></div>
   </div>
  </div>
  <p class="para">
   Esto significa que llamar a una <a href="#functions.anonymous" class="link">función
   anónima</a> que ha sido asignada a una propiedad no es posible
   directamte. En su lugar, la propiedad ha de ser asignada primero a una variable, por
   ejemplo. A partir de PHP 7.0.0, es posible llamar a dicha propiedad directamente
   encerrándola entre paréntesis.
  </p>
  <div class="example" id="example-217">
   <p><strong>Ejemplo #8 Llamar a una función anónima almacenada en una propiedad</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
class&nbsp;Foo<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;$bar;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;__construct()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;bar&nbsp;=&nbsp;function()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;42;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />//&nbsp;A&nbsp;partir&nbsp;de&nbsp;PHP&nbsp;5.3.0:<br />$obj&nbsp;=&nbsp;new&nbsp;Foo();<br />$func&nbsp;=&nbsp;$obj-&gt;bar;<br />echo&nbsp;$func(),&nbsp;PHP_EOL;<br /><br />//&nbsp;Alternativamente,&nbsp;a&nbsp;partir&nbsp;de&nbsp;PHP&nbsp;7.0.0:<br />echo&nbsp;($obj-&gt;bar)(),&nbsp;PHP_EOL;</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
42
</pre></div>
   </div>
  </div>
 </div>
 
 <div class="sect2" id="language.oop5.basic.extends">
  <h3 class="title">extends</h3>
  <p class="para">
   Una clase puede heredar los métodos y propiedades de otra clase
   empleando la palabra reservada <em>extends</em> en la declaración
   de la clase. No es posible la extensión de múltiples clases; una clase
   sólo puede heredar de una clase base.
  </p>
  <p class="para">
   Los métodos y propiedades heredados pueden ser sobrescritos
   con la redeclaración de éstos utilizando el mismo nombre que en
   la clase madre. Sin embargo, si la clase madre definió un método
   como <a href="#language.oop5.final" class="link">final</a>, éste no
   podrá ser sobrescrito. Es posible acceder a los métodos
   sobrescritos o a las propiedades estáticas haciendo referencia a ellos
   con <a href="#language.oop5.paamayim-nekudotayim" class="link">parent::</a>.
  </p>
  <p class="para">
   Cuando se sobrescriben métodos, la firma de los parámetros debería ser la misma o
   PHP generará un error de nivel <strong><code>E_STRICT</code></strong>. Esto no se
   aplica a los constructores, los cuales permiten la sobrescritura con diferentes
   parámetros.
  </p>
  <div class="example" id="example-218">
   <p><strong>Ejemplo #9 Herencia de clases sencilla</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">ClaseExtendida&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ClaseSencilla<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Redefinición&nbsp;del&nbsp;método&nbsp;padre<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">mostrarVar</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Clase&nbsp;extendida\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">mostrarVar</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$extendida&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ClaseExtendida</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$extendida</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">mostrarVar</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
Clase extendida
un valor predeterminado
</pre></div>
   </div>
  </div>
 </div>
 
 <div class="sect2" id="language.oop5.basic.class.class">
  <h3 class="title">::class</h3>
  
  <p class="para">
   Desde PHP 5.5, también se emplea la palabra reservada <em>class</em> para la resolución
   de nombres de clases. Se puede obtener un string con el nombre completamente cualificado
   de la clase <em>NombreClase</em> utilizando
   <em>NombreClase::class</em>. Esto es particularmete útil con
   clases en <a href="#language.namespaces" class="link">espacios de nombres</a>.
  </p>
  <p class="para">
   <div class="example" id="language.oop5.basic.class.name">
    <p><strong>Ejemplo #10 Resolución de nombres de clases</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">NS&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;</span><span style="color: #0000BB">NombreClase&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">NombreClase</span><span style="color: #007700">::class;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
NS\NombreClase
</pre></div>
    </div>
   </div>
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">La resolución de nombres de clases con <em>::class</em> es una transformación
    durante la compilación. Esto significa que, en el instante de crear el string del nombre
    de la clase, aún no se ha realizado ninguna autocarga. Como consecuencia, los nombres de clases
    se expanden incluso si la clase no existe. No se emite ningún error en tal
    caso.
   </p>
  </p></blockquote>
 </div>
</div>
<hr />




 



<div id="language.oop5.properties" class="sect1"><hr />
 <h2 class="title">Propiedades</h2>
 
 <p class="para">
  Las variables pertenecientes a una clase se llaman &quot;propiedades&quot;.
  También se les puede llamar usando otros términos como &quot;atributos&quot;
  o &quot;campos&quot;, pero para los propósitos de esta referencia se va a utilizar 
  &quot;propiedades&quot;. Éstas se definen usando una de las palabras reservadas
  <em>public</em>, <em>protected</em>,
  o <em>private</em>, seguido de una declaración normal
  de variable. Esta declaración puede incluir una inicialización, pero
  esta inicialización debe ser un valor constante, es decir, debe poder
  ser evaluada durante la compilación y no depender de información
  generada durante la ejecución.
 </p>
 <p class="para">
  Véase la <a href="#language.oop5.visibility" class="xref">Visibilidad</a> para más
  información sobre el significado de
  <em>public</em>, <em>protected</em>,
  y <em>private</em>.
 </p>
 <blockquote class="note"><p><strong class="note">Nota</strong>: 
  <p class="para">
   Con el fin de mantener la compatibilidad con PHP 4, PHP 5 continuará
   aceptando el uso de la palabra reservada <em>var</em> en la
   declaración de propiedades en lugar de (o además de)
   <em>public</em>, <em>protected</em>,
   o <em>private</em>. Sin embargo, <em>var</em> ya
   no es necesaria. Entre las versiones 5.0 y 5.1.3 de PHP, el uso de
   <em>var</em> fue considerado obsoleto y emitía una advertencia de
   nivel <strong><code>E_STRICT</code></strong>; pero a partir de PHP 5.1.3 ya no está
   obsoleta y no se emite la advertencia.
  </p>
  <p class="para">
   Si se declara una propiedad utilizando <em>var</em> en lugar
   de <em>public</em>, <em>protected</em>,
   o <em>private</em>, PHP tratará dicha propiedad
   como si hubiera sido definida como <em>public</em>.
  </p>
 </p></blockquote>
 <p class="para">
  Dentro de los métodos de una clase, se puede acceder a las propiedades no estáticas utilizando
  <em>-&gt;</em> (el operador de objeto): <var class="varname"><var class="varname">$this->propiedad</var></var>
  (donde <em>propiedad</em> es el nombre de la propiedad).
  A las propiedades estáticas se puede acceder utilizando <em>::</em> (doble dos puntos):
  <var class="varname"><var class="varname">self::$propiedad</var></var>. Véase <a href="#language.oop5.static" class="link">la palabra reservada &#039;static&#039;</a>
  para más información sobre la diferencia entre propiedades estáticas y no estáticas.
 </p>
 <p class="para">
  La pseudovariable <var class="varname"><var class="varname">$this</var></var> está disponible dentro de
  cualquier método de clase cuando éste es invocado dentro del contexto
  de un objeto. <var class="varname"><var class="varname">$this</var></var> es una referencia al objeto
  invocador (usualmente el objeto al cual pertenece el método,
  aunque puede que sea otro objeto si el método es llamado
  <a href="#language.oop5.static" class="link">estáticamente</a>
  desde el contexto de un objeto secundario).
 </p>
 
 <p class="para">
  <div class="example" id="example-220">
   <p><strong>Ejemplo #1 Declaración de propiedades</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">ClaseSencilla<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Válido&nbsp;a&nbsp;partir&nbsp;de&nbsp;PHP&nbsp;5.6.0:<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">$var1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'hola&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'mundo'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Válido&nbsp;a&nbsp;partir&nbsp;de&nbsp;PHP&nbsp;5.3.0:<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">$var2&nbsp;</span><span style="color: #007700">=&nbsp;&lt;&lt;&lt;EOD<br /></span><span style="color: #DD0000">hola&nbsp;mundo<br /></span><span style="color: #007700">EOD;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Válido&nbsp;a&nbsp;partir&nbsp;de&nbsp;PHP&nbsp;5.6.0:<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">$var3&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">+</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Declaraciones&nbsp;de&nbsp;propiedades&nbsp;inválidas:<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">$var4&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">miMétodoEstático</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$var5&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$myVar</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Declaraciones&nbsp;de&nbsp;propiedades&nbsp;válidas:<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">$var6&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">miConstante</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$var7&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">true</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Válido&nbsp;a&nbsp;partir&nbsp;de&nbsp;PHP&nbsp;5.3.0:<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">$var8&nbsp;</span><span style="color: #007700">=&nbsp;&lt;&lt;&lt;'EOD'<br /></span><span style="color: #DD0000">hola&nbsp;mundo<br /></span><span style="color: #007700">EOD;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>
   
  </div>
 </p>
 
 <blockquote class="note"><p><strong class="note">Nota</strong>: 
  <p class="para">
   Existen varias funciones interesantes para manipular clases y objetos.
   Puede ser interesante echarle un vistazo a las
   <a href="#ref.classobj" class="link">Funciones de clases/objetos</a>.
  </p>
 </p></blockquote>
 
 <p class="para">
  A partir de PHP 5.3.0, se puede utilizar
  <a href="#language.types.string.syntax.heredoc" class="link">heredocs</a> y
  <a href="#language.types.string.syntax.nowdoc" class="link">nowdocs</a>
  en cualquier contexto de datos estáticos, incluyendo la declaración
  de propiedades.
  <div class="example" id="example-221">
   <p><strong>Ejemplo #2 Ejemplo del uso de nowdoc para inicializar una propiedad</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;A&nbsp;paritr&nbsp;de&nbsp;PHP&nbsp;5.3.0<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;&lt;&lt;&lt;'EOT'<br /></span><span style="color: #DD0000">bar<br /></span><span style="color: #007700">EOT;<br />&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$baz&nbsp;</span><span style="color: #007700">=&nbsp;&lt;&lt;&lt;EOT<br /></span><span style="color: #DD0000">baz<br /></span><span style="color: #007700">EOT;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </p>
 <blockquote class="note"><p><strong class="note">Nota</strong>: 
  <p class="para">
   Se añadio soporte para Nowdoc y Heredoc en PHP 5.3.0.
  </p>
 </p></blockquote>
</div>
<hr />




 



<div id="language.oop5.constants" class="sect1"><hr />
 <h2 class="title">Constantes de clases</h2>
 <p class="para">
  Es posible definir valores constantes en función de cada clase manteniéndola
  invariable. Las constantes se diferencian de las variables comunes en que no
  utilizan el símbolo <var class="varname"><var class="varname">$</var></var> al declararlas o emplearlas.
  La visibilidad predeterminada de las constantes de clase es <em>public</em>.
 </p>
 <p class="para">
  El valor debe ser una expresión constante, no (por ejemplo) una variable, una
  propiedad o una llamada a una función.
 </p>
 <p class="para">
  También es posible que las interfaces tengan <em>constantes</em>. Consulte
  los ejemplos de la
  <a href="#language.oop5.interfaces" class="link">documentación de interfaces</a>.
 </p>
 <p class="para">
  A partir de PHP 5.3.0, es posible referirse a una clase utilizando una variable.
  El valor de la variable no puede ser una palabra reservada (p.ej., <em>self</em>,
  <em>parent</em> o <em>static</em>).
 </p>
 <p class="para">
  Observe que las constantes de clase están asignadas una vez por clase, y no por cada
  instancia de la clase.
 </p>
 <div class="example" id="example-222">
  <p><strong>Ejemplo #1 Definición y uso de una constante</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MiClase<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">CONSTANTE&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'valor&nbsp;constante'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">mostrarConstante</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">CONSTANTE&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />echo&nbsp;</span><span style="color: #0000BB">MiClase</span><span style="color: #007700">::</span><span style="color: #0000BB">CONSTANTE&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$nombreclase&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"MiClase"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$nombreclase</span><span style="color: #007700">::</span><span style="color: #0000BB">CONSTANTE&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;A&nbsp;partir&nbsp;de&nbsp;PHP&nbsp;5.3.0<br /><br /></span><span style="color: #0000BB">$clase&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MiClase</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$clase</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">mostrarConstante</span><span style="color: #007700">();<br /><br />echo&nbsp;</span><span style="color: #0000BB">$clase</span><span style="color: #007700">::</span><span style="color: #0000BB">CONSTANTE</span><span style="color: #007700">.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;A&nbsp;partir&nbsp;de&nbsp;PHP&nbsp;5.3.0<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

 </div>
 <div class="example" id="example-223">
  <p><strong>Ejemplo #2 Ejemplo de datos estáticos</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;A&nbsp;partir&nbsp;de&nbsp;PHP&nbsp;5.3.0<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">BAR&nbsp;</span><span style="color: #007700">=&nbsp;&lt;&lt;&lt;'EOT'<br /></span><span style="color: #DD0000">bar<br /></span><span style="color: #007700">EOT;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;A&nbsp;partir&nbsp;de&nbsp;PHP&nbsp;5.3.0<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">BAZ&nbsp;</span><span style="color: #007700">=&nbsp;&lt;&lt;&lt;EOT<br /></span><span style="color: #DD0000">baz<br /></span><span style="color: #007700">EOT;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

 </div>
 <blockquote class="note"><p><strong class="note">Nota</strong>: 
  <p class="para">
   El soporte para la inicialización de constantes con la sintaxis de Heredoc y Nowdoc fue agregado en PHP 5.3.0.
  </p>
 </p></blockquote>
 <p class="para">
  La constante especial <strong><code>::class</code></strong> está disponible a partir de PHP 5.5.0, y permite
  la resolución de nombres de clase completamente cualificados en la compilación. Esto es útil para clases en espacios de nombres:
 </p>
 <div class="example" id="example-224">
  <p><strong>Ejemplo #3 Ejemplo de ::class en espacio de nombres</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;class&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">::class;&nbsp;</span><span style="color: #FF8000">//&nbsp;foo\bar<br /></span><span style="color: #007700">}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

 </div>
 <div class="example" id="example-225">
  <p><strong>Ejemplo #4 Ejemplo de expresión constante</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">UNO&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />class&nbsp;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;A&nbsp;partir&nbsp;de&nbsp;PHP&nbsp;5.6.0<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">const&nbsp;</span><span style="color: #0000BB">DOS&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">UNO&nbsp;</span><span style="color: #007700">*&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">TRES&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">UNO&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">DOS</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">SENTENCIA&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'El&nbsp;valor&nbsp;de&nbsp;TRES&nbsp;es&nbsp;'</span><span style="color: #007700">.</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">TRES</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

  <div class="example-contents"><p>
   Es posible proporcionar una expresión escalar que implique literales numéricos y de string y/o constantes en el contexto de una constante de clase.
  </p></div>
 </div>
 <blockquote class="note"><p><strong class="note">Nota</strong>: 
  <p class="para">
   El soporte para expresiones constantes se añadió en PHP 5.6.0.
  </p>
 </p></blockquote>
 
 <div class="example" id="example-226">
  <p><strong>Ejemplo #5 Modificadores de visibilidad de constantes de clase</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;A&nbsp;partir&nbsp;de&nbsp;PHP&nbsp;7.1.0<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;const&nbsp;</span><span style="color: #0000BB">BAR&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'bar'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;const&nbsp;</span><span style="color: #0000BB">BAZ&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'baz'</span><span style="color: #007700">;<br />}<br />echo&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">::</span><span style="color: #0000BB">BAR</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">::</span><span style="color: #0000BB">BAZ</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

  <div class="example-contents"><p>Salida del ejemplo anterior en PHP 7.1:</p></div>
  <div class="example-contents screen">
<div class="cdata"><pre>
bar

Fatal error: Uncaught Error: Cannot access private const Foo::BAZ in …
</pre></div>
  </div>
 </div>
 <blockquote class="note"><p><strong class="note">Nota</strong>: 
  <p class="para">
   A partir de PHP 7.1.0, están permitidos los modificadores de visibilidad para constantes de clase.
  </p>
 </p></blockquote>
</div>
<hr />



 



<div id="language.oop5.autoload" class="sect1"><hr />
 <h2 class="title">Autocarga de clases</h2>
 <p class="para">
  Muchos desarrolladores que escriben aplicaciones orientadas a objetos
  crean un fichero fuente de PHP para cada definición de clase. Una de las
  mayores molestias es tener que hacer una larga lista de inclusiones
  al comienzo de cada script (uno por cada clase).
 </p>
 <p class="para">
  En PHP 5 esto ya no es necesario. La
  función <span class="function"><a href="#function.spl-autoload-register" class="function">spl_autoload_register()</a></span> registra cualquier número de
  autocargadores, posibilitando que las clases e interfaces sean cargadas automáticamente
  si no están definidas actualmente. Al registrar autocargadores, a PHP se le da
  una última oportunidad de cargar las clases o interfaces antes de que falle por un error.
 </p>
 <div class="tip"><strong class="tip">Sugerencia</strong>
  <p class="para">
   Aunque la función <span class="function"><a href="#function.autoload" class="function">__autoload()</a></span> también puede ser empleada para
   autocargar clases e interfaces, es preferible utilizar la
   función <span class="function"><a href="#function.spl-autoload-register" class="function">spl_autoload_register()</a></span>. Esto es debido a que es
   una alternativa más flexible (posibilitando que se pueda especificar cualquier número
   de autocargadores en la aplicación, tales como los de las bibliotecas de terceros). Por esta
   razón, se desaconseja el uso de <span class="function"><a href="#function.autoload" class="function">__autoload()</a></span>, ya que podría estar
   obsoleta en el futuro.
  </p>
 </div>
 <blockquote class="note"><p><strong class="note">Nota</strong>: 
  <p class="para">
   Antes de 5.3.0, las excepciones lanzadas en la función
   <span class="function"><a href="#function.autoload" class="function">__autoload()</a></span> no podían ser capturadas en el
   bloque <a href="#language.exceptions" class="link">catch</a>, resultando en
   un error fatal. Desde 5.3 en adelante, esto es posible simpre que, si
   se lanza una excepción personalizada, esté disponible la clase de la excepción personalizada.
   La función <span class="function"><a href="#function.autoload" class="function">__autoload()</a></span> podría utilizarse recursivamente para
   cargar la clase de excepción personalizada.
  </p>
 </p></blockquote>
 <blockquote class="note"><p><strong class="note">Nota</strong>: 
  <p class="para">
   La autocarga no está disponible si se utiliza PHP en el
   <a href="#features.commandline" class="link">modo interactivo</a> CLI.
  </p>
 </p></blockquote>
 <blockquote class="note"><p><strong class="note">Nota</strong>: 
  <p class="para">
   Si el nombre de la clase se utiliza, por ejemplo, en <span class="function"><a href="#function.call-user-func" class="function">call_user_func()</a></span>,
   este puede contener algunos caracteres peligrosos tales como <em>../</em>.
   Se recomienda no utilizar la entrada del usuario en tales funciones, o al menos
   verificar dicha entrada en <span class="function"><a href="#function.autoload" class="function">__autoload()</a></span>.
  </p>
 </p></blockquote>
 <p class="para">
  <div class="example" id="example-227">
   <p><strong>Ejemplo #1 Ejemplo de autocarga</strong></p>
   <div class="example-contents"><p>
    Este ejemplo intenta cargar las clases <em>MiClase1</em>
    y <em>MiClase2</em> desde los ficheros <var class="filename">MiClase1.php</var>
    y <var class="filename">MiClase2.php</var>, respectivamente.
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />spl_autoload_register</span><span style="color: #007700">(function&nbsp;(</span><span style="color: #0000BB">$nombre_clase</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;include&nbsp;</span><span style="color: #0000BB">$nombre_clase&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'.php'</span><span style="color: #007700">;<br />});<br /><br /></span><span style="color: #0000BB">$obj&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MiClase1</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$obj2&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MiClase2</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <div class="example" id="example-228">
   <p><strong>Ejemplo #2 Otro ejemplo de autocarga</strong></p>
   <div class="example-contents"><p>
    Este ejemplo intenta cargar la interfaz <em>IPrueba</em>.
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />spl_autoload_register</span><span style="color: #007700">(function&nbsp;(</span><span style="color: #0000BB">$nombre</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$nombre</span><span style="color: #007700">);<br />});<br /><br />class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">IPrueba&nbsp;</span><span style="color: #007700">{<br />}<br /><br /></span><span style="color: #FF8000">/*<br />string(7)&nbsp;"IPrueba"<br /><br />Fatal&nbsp;error:&nbsp;Interface&nbsp;'IPrueba'&nbsp;not&nbsp;found&nbsp;in&nbsp;...<br />*/<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <div class="example" id="example-229">
   <p><strong>Ejemplo #3 Autocarga con manejo de excepciones para 5.3.0+</strong></p>
   <div class="example-contents"><p>
    Este ejemplo lanza una excepción y demuestra los bloques try/catch.
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />spl_autoload_register</span><span style="color: #007700">(function&nbsp;(</span><span style="color: #0000BB">$nombre</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Intentando&nbsp;cargar&nbsp;</span><span style="color: #0000BB">$nombre</span><span style="color: #DD0000">.\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;</span><span style="color: #0000BB">Exception</span><span style="color: #007700">(</span><span style="color: #DD0000">"Imposible&nbsp;cargar&nbsp;</span><span style="color: #0000BB">$nombre</span><span style="color: #DD0000">."</span><span style="color: #007700">);<br />});<br /><br />try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$obj&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ClaseNoCargable</span><span style="color: #007700">();<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">Exception&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">(),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
Intentando cargar ClaseNoCargable.
Imposible cargar ClaseNoCargable.
</pre></div>
   </div>
  </div>
  <div class="example" id="example-230">
   <p><strong>Ejemplo #4 Autocarga con manejo de excepciones para 5.3.0+: Excepción personalizada ausente</strong></p>
   <div class="example-contents"><p>
    Este ejemplo lanza una excepción para una excepción personalizada no cargable.
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />spl_autoload_register</span><span style="color: #007700">(function&nbsp;(</span><span style="color: #0000BB">$nombre</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Intentando&nbsp;cargar&nbsp;</span><span style="color: #0000BB">$nombre</span><span style="color: #DD0000">.\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;throw&nbsp;new&nbsp;</span><span style="color: #0000BB">ExcepciónAusente</span><span style="color: #007700">(</span><span style="color: #DD0000">"Imposible&nbsp;cargar&nbsp;</span><span style="color: #0000BB">$nombre</span><span style="color: #DD0000">."</span><span style="color: #007700">);<br />});<br /><br />try&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$obj&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ClaseNoCargable</span><span style="color: #007700">();<br />}&nbsp;catch&nbsp;(</span><span style="color: #0000BB">Exception&nbsp;$e</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">(),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
Intentando cargar ClaseNoCargable.
Intentando cargar ExcepciónAusente.

Fatal error: Class &#039;ExcepciónAusente&#039; not found in testExcepcionAusente.php on line 4
</pre></div>
   </div>
  </div>
 </p>
 
 <div class="simplesect">
  <h3 class="title">Ver también</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="#function.unserialize" class="function">unserialize()</a></span></li>
    <li class="member"><a href="#unserialize-callback-func" class="link">unserialize_callback_func</a></li>
    <li class="member"><span class="function"><a href="#function.spl-autoload-register" class="function">spl_autoload_register()</a></span></li>
    <li class="member"><span class="function"><a href="#function.spl-autoload" class="function">spl_autoload()</a></span></li>
    <li class="member"><span class="function"><a href="#function.autoload" class="function">__autoload()</a></span></li>
   </ul>
  </p>
 </div>
 
</div>
<hr />




 



<div id="language.oop5.decon" class="sect1"><hr />
 <h2 class="title">Constructores y destructores</h2>
 
 <div class="sect2" id="language.oop5.decon.constructor">
  <h3 class="title">Constructor</h3>
  <div class="methodsynopsis dc-description" id="object.construct">
   <span class="type"><span class="type void">void</span></span> <span class="methodname"><strong>__construct</strong></span>
    ([ <span class="methodparam"><span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$args</code><span class="initializer"> = &quot;&quot;</span></span>
   [, <span class="methodparam"> <code class="parameter">$...</code></span>
  ]] )</div>

  <p class="para">
   PHP 5 permite a los desarrolladores declarar métodos constructores para las
   clases. Aquellas que tengan un método constructor lo invocarán en cada nuevo
   objeto creado, lo que lo hace idóneo para cualquier inicialización que
   el objeto pueda necesitar antes de ser usado.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <span class="simpara">
    Los constructores padres no son llamados implícitamente si la clase hija define
    un constructor. Para ejecutar un constructor padre, se requiere invocar a
    <span class="function"><strong>parent::__construct()</strong></span> desde el constructor hijo.
    Si el hijo no define un constructor, entonces se puede heredar de la clase
    madre como un método de clase normal (si no fue declarada como
    privada).
   </span>
  </p></blockquote>
  <div class="example" id="example-231">
   <p><strong>Ejemplo #1 Utilización de nuevos constructores unificados</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">BaseClass&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"En&nbsp;el&nbsp;constructor&nbsp;BaseClass\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">SubClass&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">BaseClass&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">__construct</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"En&nbsp;el&nbsp;constructor&nbsp;SubClass\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">OtherSubClass&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">BaseClass&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;heredando&nbsp;el&nbsp;constructor&nbsp;BaseClass<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">//&nbsp;En&nbsp;el&nbsp;constructor&nbsp;BaseClass<br /></span><span style="color: #0000BB">$obj&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">BaseClass</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;En&nbsp;el&nbsp;constructor&nbsp;BaseClass<br />//&nbsp;En&nbsp;el&nbsp;constructor&nbsp;SubClass<br /></span><span style="color: #0000BB">$obj&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SubClass</span><span style="color: #007700">();<br /><br /></span><span style="color: #FF8000">//&nbsp;En&nbsp;el&nbsp;constructor&nbsp;BaseClass<br /></span><span style="color: #0000BB">$obj&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">OtherSubClass</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <p class="para">
   Por motivos de retrocompatibilidad con PHP 3 y PHP 4, si PHP no puede encontrar una
   función <a href="#object.construct" class="link">__construct()</a> de una clase
   dada, se buscará
   la función constructora del estilo antiguo, por el nombre de la clase.
   Efectivamente, esto significa que en el único caso en el que se tendría
   compatibilidad es si la clase tiene un método llamado
   <a href="#object.construct" class="link">__construct()</a> que fuese utilizado para
   diferentes semáticas.
  </p>
  
  <div class="warning"><strong class="warning">Advertencia</strong>
   <p class="simpara">
    Los constructores del estilo antiguo están <em class="emphasis">OBSOLETOS</em> en PHP 7.0, por
    lo que serán eliminados en una futura versión. Se debería utilizar siempre
    <a href="#object.construct" class="link">__construct()</a> en código nuevo.
   </p>
  </div>
  <p class="para">
   A diferencia con otros métodos, PHP no generará un mensaje de error a
   nivel de <strong><code>E_STRICT</code></strong> cuando <a href="#object.construct" class="link">__construct()</a>
   es sobrescrito con diferentes parámetros que los métodos padre 
   <a href="#object.construct" class="link">__construct()</a> tienen.
  </p>
  <p class="para">
   A partir de PHP 5.3.3, los métodos con el mismo nombre que el último
   elemento de una clase en un nombre de espacios no serán más tratados
   como un constructor. Este cambio no afecta a clases sin espacio de nombres.
  </p>
  <div class="example" id="example-232">
   <p><strong>Ejemplo #2 Constructores en clases pertenecientes a un nombre de espacios</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">namespace&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">;<br />class&nbsp;</span><span style="color: #0000BB">Bar&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">Bar</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Tratado&nbsp;como&nbsp;constructor&nbsp;en&nbsp;PHP&nbsp;5.3.0&nbsp;-&nbsp;5.3.2<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Tratado&nbsp;como&nbsp;método&nbsp;regular&nbsp;a&nbsp;partir&nbsp;de&nbsp;PHP&nbsp;5.3.3<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </div>
 
 <div class="sect2" id="language.oop5.decon.destructor">
  <h3 class="title">Destructor</h3>
  <div class="methodsynopsis dc-description" id="object.destruct">
   <span class="type"><span class="type void">void</span></span> <span class="methodname"><strong>__destruct</strong></span>
    ( <span class="methodparam">void</span>
   )</div>

  <p class="para">
   PHP 5 introduce un concepto de destructor similar al de otros
   lenguajes orientados a objetos, tal como C++. El método destructor 
   será llamado tan pronto como no hayan otras referencias a un objeto 
   determinado, o en cualquier otra circunstancia de finalización.
  </p>
  <div class="example" id="example-233">
   <p><strong>Ejemplo #3 Ejemplo de Destructor</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MyDestructableClass&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"En&nbsp;el&nbsp;constructor\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"MyDestructableClass"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__destruct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"Destruyendo&nbsp;"&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$obj&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MyDestructableClass</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <p class="para">
   Como los constructores, los destructores padre no serán llamados
   implícitamente por el motor. Para ejecutar un destructor padre, se
   deberá llamar explícitamente a <span class="function"><strong>parent::__destruct()</strong></span>
   en el interior del destructor. También como los constructores, una clase child 
   puede heredar el destructor de los padres si no implementa uno propio.
  </p>
  <p class="para">
   El destructor será invocado aún si la ejecución del script es detenida
   usando <span class="function"><a href="#function.exit" class="function">exit()</a></span>. Llamar a <span class="function"><a href="#function.exit" class="function">exit()</a></span> en un
   destructor evitará que se ejecuten las rutinas restantes de finalización.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    Los destructores invocados durante la finalización del script tienen
    los headers HTTP ya enviados. El directorio de trabajo en la fase de
    finalización del script puede ser diferente con algunos SAPIs (por ej., Apache).
   </p>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    Intentar lanzar una excepción desde un destructor (invocado en la finalización
    del script) causa un error fatal.
   </p>
  </p></blockquote>
 </div>
 
</div>
<hr />




 



<div id="language.oop5.visibility" class="sect1"><hr />
 <h2 class="title">Visibilidad</h2>
 <p class="para">
  La visibilidad de una propiedad, un método o (a partir de PHP 7.1.0) una constante se puede definir anteponiendo
  a su declaración una de las palabras reservadas <em class="emphasis">public</em>,
  <em class="emphasis">protected</em> o
  <em class="emphasis">private</em>. A los miembros de clase declarados como &#039;public&#039; se puede
  acceder desde donde sea; a los miembros declarados como &#039;protected&#039;,
  solo desde la misma clase o mediante clases heredadas. A los miembros
  declarados como &#039;private&#039; únicamente se puede acceder desde la clase que los
  definió.
 </p>
 
 <div class="sect2" id="language.oop5.visibility-members">
  <h3 class="title">Visibilidad de propiedades</h3>
  <p class="para">
   Las propiedades de clases deben ser definidas como &#039;public&#039;, &#039;private&#039;
   o &#039;protected&#039;. Si se declaran usando <em class="emphasis">var</em>,
   serán definidas como &#039;public&#039;.
  </p>
  <p class="para">
   <div class="example" id="example-234">
    <p><strong>Ejemplo #1 Declaración de propiedades</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/**<br />&nbsp;*&nbsp;Definición&nbsp;de&nbsp;MyClass<br />&nbsp;*/<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MyClass<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$public&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Public'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$protected&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Protected'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$private&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Private'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">printHello</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">public</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">protected</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">private</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$obj&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MyClass</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">public</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Funciona&nbsp;bien<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">protected</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;Error&nbsp;Fatal<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">private</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Error&nbsp;Fatal<br /></span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">printHello</span><span style="color: #007700">();&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Muestra&nbsp;Public,&nbsp;Protected&nbsp;y&nbsp;Private<br /><br /><br />/**<br />&nbsp;*&nbsp;Definición&nbsp;de&nbsp;MyClass2<br />&nbsp;*/<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MyClass2&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">MyClass<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Se&nbsp;pueden&nbsp;redeclarar&nbsp;las&nbsp;propiedades&nbsp;pública&nbsp;y&nbsp;protegida,&nbsp;pero&nbsp;no&nbsp;la&nbsp;privada<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">$public&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Public2'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$protected&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Protected2'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">printHello</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">public</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">protected</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">private</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$obj2&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MyClass2</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #0000BB">$obj2</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">public</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Funciona&nbsp;bien<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$obj2</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">protected</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;Error&nbsp;Fatal<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$obj2</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">private</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Undefined<br /></span><span style="color: #0000BB">$obj2</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">printHello</span><span style="color: #007700">();&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Muestra&nbsp;Public2,&nbsp;Protected2,&nbsp;Undefined<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <span class="simpara">
    La forma de declaración de una variable de PHP 4 con la
    palabra clave <em class="emphasis">var</em> todavía es soportado
    (como un sinónimo de public) por razones de compatibilidad. En PHP 5
    antes de 5.1.3, su uso genera un Warning <strong><code>E_STRICT</code></strong>.
   </span>
  </p></blockquote>
 </div>
 
 <div class="sect2" id="language.oop5.visiblity-methods">
  <h3 class="title">Visibilidad de Métodos</h3>
  <p class="para">
   Los métodos de clases pueden ser definidos como public, private,
   o protected. Aquellos declarados sin ninguna palabra clave de
   visibilidad explícita serán definidos como public.
  </p>
  <p class="para">
   <div class="example" id="example-235">
    <p><strong>Ejemplo #2 Declaración de métodos</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/**<br />&nbsp;*&nbsp;Definición&nbsp;de&nbsp;MyClass<br />&nbsp;*/<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MyClass<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Declaración&nbsp;de&nbsp;un&nbsp;constructor&nbsp;public<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Declaración&nbsp;de&nbsp;un&nbsp;método&nbsp;public<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">MyPublic</span><span style="color: #007700">()&nbsp;{&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Declaración&nbsp;de&nbsp;un&nbsp;método&nbsp;protected<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">protected&nbsp;function&nbsp;</span><span style="color: #0000BB">MyProtected</span><span style="color: #007700">()&nbsp;{&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Declaración&nbsp;de&nbsp;un&nbsp;método&nbsp;private<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;function&nbsp;</span><span style="color: #0000BB">MyPrivate</span><span style="color: #007700">()&nbsp;{&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Esto&nbsp;es&nbsp;public<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">MyPublic</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">MyProtected</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">MyPrivate</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$myclass&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MyClass</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$myclass</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">MyPublic</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;Funciona<br /></span><span style="color: #0000BB">$myclass</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">MyProtected</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;Error&nbsp;Fatal<br /></span><span style="color: #0000BB">$myclass</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">MyPrivate</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;Error&nbsp;Fatal<br /></span><span style="color: #0000BB">$myclass</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;Public,&nbsp;Protected&nbsp;y&nbsp;Private&nbsp;funcionan<br /><br /><br />/**<br />&nbsp;*&nbsp;Definición&nbsp;de&nbsp;MyClass2<br />&nbsp;*/<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MyClass2&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">MyClass<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Esto&nbsp;es&nbsp;public<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">Foo2</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">MyPublic</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">MyProtected</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">MyPrivate</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;Error&nbsp;Fatal<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /><br /></span><span style="color: #0000BB">$myclass2&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MyClass2</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$myclass2</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">MyPublic</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;Funciona<br /></span><span style="color: #0000BB">$myclass2</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">Foo2</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;Public&nbsp;y&nbsp;Protected&nbsp;funcionan,&nbsp;pero&nbsp;Private&nbsp;no<br /><br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Bar<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">test</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">testPrivate</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">testPublic</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">testPublic</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Bar::testPublic\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;function&nbsp;</span><span style="color: #0000BB">testPrivate</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Bar::testPrivate\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Bar<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">testPublic</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Foo::testPublic\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;function&nbsp;</span><span style="color: #0000BB">testPrivate</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Foo::testPrivate\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$myFoo&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$myFoo</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">test</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;Bar::testPrivate&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;Foo::testPublic<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </p>
 </div>
 
 <div class="sect2" id="language.oop5.visiblity-constants">
  <h3 class="title">Visibilidad de las constantes</h3>
  <p class="para">
   A partir de PHP 7.1.0, las constantes de clase se pueden definir como públicas, privadas o
   protegidas. Las constantes declaradas sin una visibilidad explítica
   serán definidas como públicas.
  </p>
  <p class="para">
   <div class="example" id="example-236">
    <p><strong>Ejemplo #3 Declaración de constantes a partir de PHP 7.1.0</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/**<br />&nbsp;*&nbsp;Definir&nbsp;MiClase<br />&nbsp;*/<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MiClase<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Declarar&nbsp;una&nbsp;constante&nbsp;pública<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;const&nbsp;</span><span style="color: #0000BB">MY_PUBLIC&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'public'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Declarar&nbsp;una&nbsp;constante&nbsp;protegida<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">protected&nbsp;const&nbsp;</span><span style="color: #0000BB">MY_PROTECTED&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'protected'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Declarar&nbsp;una&nbsp;constante&nbsp;privada<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;const&nbsp;</span><span style="color: #0000BB">MY_PRIVATE&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'private'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">MY_PUBLIC</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">MY_PROTECTED</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">MY_PRIVATE</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$myclass&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MiClase</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">MiClase</span><span style="color: #007700">::</span><span style="color: #0000BB">MY_PUBLIC</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;Funciona<br /></span><span style="color: #0000BB">MiClase</span><span style="color: #007700">::</span><span style="color: #0000BB">MY_PROTECTED</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;Error&nbsp;fatal<br /></span><span style="color: #0000BB">MiClase</span><span style="color: #007700">::</span><span style="color: #0000BB">MY_PRIVATE</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;Error&nbsp;fatal<br /></span><span style="color: #0000BB">$myclass</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;Funcionan&nbsp;Public,&nbsp;Protected&nbsp;y&nbsp;Private<br /><br /><br />/**<br />&nbsp;*&nbsp;Definir&nbsp;MiClase2<br />&nbsp;*/<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MiClase2&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">MiClase<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Esta&nbsp;es&nbsp;pública<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">foo2</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">MY_PUBLIC</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">MY_PROTECTED</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">MY_PRIVATE</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;Error&nbsp;fatal<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /><br /></span><span style="color: #0000BB">$myclass2&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MiClase2</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">MiClase2</span><span style="color: #007700">::</span><span style="color: #0000BB">MY_PUBLIC</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;Funciona<br /></span><span style="color: #0000BB">$myclass2</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo2</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;Funcionan&nbsp;Public&nbsp;y&nbsp;Protected,&nbsp;pero&nbsp;no&nbsp;Private<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
     </div>

    </div>
   </p>
 </div>
 
 <div class="sect2" id="language.oop5.visibility-other-objects">
  <h3 class="title">Visibilidad desde otros objetos</h3>
  <p class="para">
   Los objetos del mismo tipo tendrán acceso a los miembros private y
   protected entre ellos aunque no sean de la misma instancia. Esto es porque
   los detalles específicos de implementación ya se conocen cuando se encuentra
   dentro de estos objetos.
  </p>
  <div class="example" id="example-237">
   <p><strong>Ejemplo #4 Accediendo a miembros private del mismo tipo de objeto</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Test<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$foo</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$foo</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Método&nbsp;private&nbsp;accedido.'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">baz</span><span style="color: #007700">(</span><span style="color: #0000BB">Test&nbsp;$other</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Se&nbsp;puede&nbsp;cambiar&nbsp;la&nbsp;propiedad&nbsp;private:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$other</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'hola'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$other</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;También&nbsp;se&nbsp;puede&nbsp;invocar&nbsp;al&nbsp;método&nbsp;private:<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$other</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bar</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$test&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Test</span><span style="color: #007700">(</span><span style="color: #DD0000">'test'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$test</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">baz</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">Test</span><span style="color: #007700">(</span><span style="color: #DD0000">'other'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
string(5) &quot;hola&quot;
Método private accedido.
</pre></div>
   </div>
  </div>
 </div>
</div>
<hr />




 



 <div id="language.oop5.inheritance" class="sect1"><hr />
  <h2 class="title">Herencia de Objetos</h2>
  <p class="para">
   La herencia es un principio de programación bien establecido y PHP hace uso
   de él en su modelado de objetos. Este principio afectará la manera
   en que muchas clases y objetos se relacionan unas con otras.
  </p>
  <p class="para">
   Por ejemplo, cuando se extiende una clase, la subclase hereda todos los
   métodos públicos y protegidos de la clase padre. A menos que una clase sobrescriba
   esos métodos, mantendrán su funcionalidad original.
  </p>
  <p class="para">
   Esto es útil para la definición y abstracción de la funcionalidad y permite la
   implementación de funcionalidad adicional en objetos similares sin la
   necesidad de reimplementar toda la funcionalidad compartida.
  </p>

  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    A menos que la carga automática sea utilizada, entonces las clases deben ser definidas antes de ser
    usadas. Si una clase se extiende a otra, entonces la clase padre debe ser declarada
    antes de la estructura de clase hija. Esta regla se aplica a las clases que heredan
    de otras clases e interfaces.
   </p>
  </p></blockquote>

  <div class="sect2" id="language.oop5.inheritance.examples">
   <div class="example" id="language.oop5.inheritance.examples.ex1">
    <p><strong>Ejemplo #1 Ejemplo de herencia</strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">printItem</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Foo:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">printPHP</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'PHP&nbsp;is&nbsp;great.'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">bar&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Foo<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">printItem</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Bar:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$string&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Bar</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$foo</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">printItem</span><span style="color: #007700">(</span><span style="color: #DD0000">'baz'</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;Salida:&nbsp;'Foo:&nbsp;baz'<br /></span><span style="color: #0000BB">$foo</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">printPHP</span><span style="color: #007700">();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Salida:&nbsp;'PHP&nbsp;is&nbsp;great'&nbsp;<br /></span><span style="color: #0000BB">$bar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">printItem</span><span style="color: #007700">(</span><span style="color: #DD0000">'baz'</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;Salida:&nbsp;'Bar:&nbsp;baz'<br /></span><span style="color: #0000BB">$bar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">printPHP</span><span style="color: #007700">();&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Salida:&nbsp;'PHP&nbsp;is&nbsp;great'<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

   </div>
  </div>

 </div>
<hr />

 



 



<div id="language.oop5.paamayim-nekudotayim" class="sect1"><hr />
 <h2 class="title">Operador de Resolución de Ámbito (::)</h2>
 
 <p class="para">
  El Operador de Resolución de Ámbito (también denominado Paamayim Nekudotayim)
  o en términos simples, el doble dos-puntos, es un token que permite acceder
  a elementos <a href="#language.oop5.static" class="link">estáticos</a>,
  <a href="#language.oop5.constants" class="link">constantes</a>, y sobrescribir
  propiedades o métodos de una clase.
 </p>
 
 <p class="para">
  Cuando se hace referencia a estos items desde el exterior de la
  definición de la clase, se utiliza el nombre de la clase.
 </p>
 
 <p class="para">
  A partir de PHP 5.3.0, es posible hacer referencia a una clase usando una variable.
  El valor de la variable no puede ser una palabra clave (por ej., <em>self</em>,
  <em>parent</em> y <em>static</em>).
 </p>
 
 <p class="para">
  Paamayim Nekudotayim podría, en un principio, parecer una extraña elección
  para bautizar a un doble dos-puntos. Sin embargo, mientras se escribía el
  Zend Engine 0.5 (que utilizó PHP 3), asi es como el equipo Zend decidió
  bautizarlo. En realidad, significa doble dos-puntos - en Hebreo!
 </p>
 
 <div class="example" id="example-239">
  <p><strong>Ejemplo #1 :: desde el exterior de la definición de la clase</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MyClass&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">CONST_VALUE&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Un&nbsp;valor&nbsp;constante'</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$classname&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'MyClass'</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$classname</span><span style="color: #007700">::</span><span style="color: #0000BB">CONST_VALUE</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;A&nbsp;partir&nbsp;de&nbsp;PHP&nbsp;5.3.0<br /><br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">MyClass</span><span style="color: #007700">::</span><span style="color: #0000BB">CONST_VALUE</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  
  <p class="para">
   Las tres palabras claves especiales <var class="varname"><var class="varname">self</var></var>, <var class="varname"><var class="varname">parent</var></var> y 
   <var class="varname"><var class="varname">static</var></var> son utilizadas para acceder a propiedades y métodos desde el interior 
   de la definición de la clase.
  </p>
  
  <div class="example" id="example-240">
   <p><strong>Ejemplo #2 :: desde el interior de la definición de la clase</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">OtherClass&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">MyClass<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;</span><span style="color: #0000BB">$my_static&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'variable&nbsp;estática'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">doubleColon</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">CONST_VALUE&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$my_static&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$classname&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'OtherClass'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$classname</span><span style="color: #007700">::</span><span style="color: #0000BB">doubleColon</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;A&nbsp;partir&nbsp;de&nbsp;PHP&nbsp;5.3.0<br /><br /></span><span style="color: #0000BB">OtherClass</span><span style="color: #007700">::</span><span style="color: #0000BB">doubleColon</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  
  <p class="para">
   Cuando una clase extendida sobrescribe la definición parent de un método,
   PHP no invocará al método parent. Depende de la clase extendida el hecho de
   llamar o no al método parent. Esto también se aplica a definiciones de
   métodos <a href="#language.oop5.decon" class="link">Constructores y Destructores</a>,
   <a href="#language.oop5.overloading" class="link">Sobrecarga</a>, y
   <a href="#language.oop5.magic" class="link">Mágicos</a>.
  </p>
  
  <div class="example" id="example-241">
   <p><strong>Ejemplo #3 Invocando a un método parent</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MyClass<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;function&nbsp;</span><span style="color: #0000BB">myFunc</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"MyClass::myFunc()\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">OtherClass&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">MyClass<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Sobrescritura&nbsp;de&nbsp;definición&nbsp;parent<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">myFunc</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Pero&nbsp;todavía&nbsp;se&nbsp;puede&nbsp;llamar&nbsp;a&nbsp;la&nbsp;función&nbsp;parent<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">myFunc</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"OtherClass::myFunc()\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$class&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">OtherClass</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$class</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">myFunc</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <p class="para">
   Véase también <a href="#language.oop5.basic.class.this" class="link">algunos ejemplos de 
   trucos de llamadas estáticas </a>.
  </p>
  
</div>
<hr />




 



<div id="language.oop5.static" class="sect1"><hr />
 <h2 class="title">La palabra reservada &#039;static&#039;</h2>
 
 <div class="tip"><strong class="tip">Sugerencia</strong>
  <p class="simpara">
   Esta página describe el uso de la palabra reservada <em>static</em> para
   definir métodos y propiedades estáticos. <em>static</em> también se
   puede usar para
   <a href="#language.variables.scope.static" class="link">definir variables estáticas</a>
   y para
   <a href="#language.oop5.late-static-bindings" class="link">enlaces estáticos en tiempo de ejecución</a>.
   Por favor, consulte estas páginas para más información sobre estos significados de 
   <em>static</em>.
  </p>
 </div>
 
 <p class="para">
  Declarar propiedades o métodos de clases como estáticos los hacen accesibles
  sin la necesidad de instanciar la clase. Una propiedad declarada como
  static no puede ser accedida con un objeto de clase instanciado (aunque
  un método estático sí lo puede hacer).
 </p>
 
 <p class="para">
  Por motivos de compatibilidad con PHP 4, si no se utiliza ninguna 
  declaración de <a href="#language.oop5.visibility" class="link">visibilidad</a>,
  se tratará a las propiedades o métodos como si hubiesen sido definidos como
  <em>public</em>. 
 </p>
 
 <div class="sect2" id="language.oop5.static.methods">
  <h3 class="title">Métodos estáticos</h3>
  
  <p class="para">
   Debido a que los métodos estáticos se pueden invocar sin tener creada
   una instancia del objeto, la seudovariable <var class="varname"><var class="varname">$this</var></var>
   no está disponible dentro de los métodos declarados como estáticos.
  </p>
  
  <div class="caution"><strong class="caution">Precaución</strong>
   <p class="simpara">
    En PHP 5, llamar a métodos no estáticos de forma estática genera una
    advertencia de nivel <strong><code>E_STRICT</code></strong>.
   </p>
  </div>
  
  <div class="warning"><strong class="warning">Advertencia</strong>
   <p class="simpara">
    En PHP 7, llamar a métodos no estáticos de forma estática está obsoleto y
    generará una advertencia <strong><code>E_DEPRECATED</code></strong>. El soporte para
    las llamadas a métodos no estáticos de forma estática podría ser eliminado en el futuro.
   </p>
  </div>
  
  <div class="example" id="example-242">
   <p><strong>Ejemplo #1 Ejemplo de método estático</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">unMetodoEstatico</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;...<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /><br /></span><span style="color: #0000BB">Foo</span><span style="color: #007700">::</span><span style="color: #0000BB">unMetodoEstatico</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$nombre_clase&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Foo'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$nombre_clase</span><span style="color: #007700">::</span><span style="color: #0000BB">unMetodoEstatico</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;A&nbsp;partir&nbsp;de&nbsp;PHP&nbsp;5.3.0<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </div>
 
 <div class="sect2" id="language.oop5.static.properties">
  <h3 class="title">Propiedades estáticas</h3>
  
  <p class="para">
   No se puede acceder a las propiedades estáticas a través del objeto utilizando el
   operador flecha (-&gt;).
  </p>
  
  <p class="para">
   Como cualquier otra variable estática de PHP, las propiedades estáticas
   sólo pueden ser inicializadas utilizando un string literal o una constante;
   las expresiones no están permitidas. Por tanto, se puede inicializar una propiedad
   estática con enteros o arrays (por ejemplo), pero no se puede hacer con
   otra variable, con el valor de devolución de una función, o con un objeto.
  </p>
  
  <p class="para">
   A partir de PHP 5.3.0, es posible hacer referencia a una clase usando una
   variable. El valor de la variable no puede ser una palabra reservada (p.ej.,
   <em>self</em>, <em>parent</em> y <em>static</em>).
  </p>
  
  <div class="example" id="example-243">
   <p><strong>Ejemplo #2 Ejemplo de propiedad estática</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Foo<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;</span><span style="color: #0000BB">$mi_static&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">valorStatic</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$mi_static</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">Bar&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Foo<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">fooStatic</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">$mi_static</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /><br />print&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">::</span><span style="color: #0000BB">$mi_static&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Foo</span><span style="color: #007700">();<br />print&nbsp;</span><span style="color: #0000BB">$foo</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">valorStatic</span><span style="color: #007700">()&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />print&nbsp;</span><span style="color: #0000BB">$foo</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">mi_static&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;"Propiedad"&nbsp;mi_static&nbsp;no&nbsp;definida<br /><br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">$foo</span><span style="color: #007700">::</span><span style="color: #0000BB">$mi_static&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$nombreClase&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Foo'</span><span style="color: #007700">;<br />print&nbsp;</span><span style="color: #0000BB">$nombreClase</span><span style="color: #007700">::</span><span style="color: #0000BB">$mi_static&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;A&nbsp;partir&nbsp;de&nbsp;PHP&nbsp;5.3.0<br /><br /></span><span style="color: #007700">print&nbsp;</span><span style="color: #0000BB">Bar</span><span style="color: #007700">::</span><span style="color: #0000BB">$mi_static&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Bar</span><span style="color: #007700">();<br />print&nbsp;</span><span style="color: #0000BB">$bar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fooStatic</span><span style="color: #007700">()&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

  </div>
 </div>
</div>
<hr />



 



<div id="language.oop5.abstract" class="sect1"><hr />
 <h2 class="title">Abstracción de clases</h2>
 
 <p class="para">
  PHP 5 introduce clases y métodos abstractos. Las clases definidas como
  abstractas no se pueden instanciar y cualquier clase que
  contiene al menos un método abstracto debe ser definida como tal. Los métodos
  definidos como abstractos simplemente declaran la firma del método, pero no pueden
  definir la implementación.
 </p>
 
 <p class="para">
  Cuando se hereda de una clase abstracta, todos los métodos definidos como abstractos
  en la declaración de la clase madre deben ser definidos en la clase hija; además,
  estos métodos deben ser definidos con la misma (o con una menos restrictiva)
  <a href="#language.oop5.visibility" class="link">visibilidad</a>. Por ejemplo,
  si el método abstracto está definido como protegido, la implementación de la función
  debe ser definida como protegida o pública, pero nunca como privada. Por otra parte,
  las firmas de los métodos tienen que coincidir, es decir, la declaración de tipos y el número 
  de argumentos requeridos deben ser los mismos. Por ejemplo, si la clase derivada
  define un argumento opcional y la firma del método abstracto no lo
  hace, no habría conflicto con la firma. Esto también se aplica a los constructores
  a partir de PHP 5.4. Antes de PHP 5.4, las firmas del constructor podían ser diferentes.
 </p>
 
 <div class="example" id="example-244">
  <p><strong>Ejemplo #1 Ejemplo de clase abstracta</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">abstract&nbsp;class&nbsp;</span><span style="color: #0000BB">ClaseAbstracta<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Forzar&nbsp;la&nbsp;extensión&nbsp;de&nbsp;clase&nbsp;para&nbsp;definir&nbsp;este&nbsp;método<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">abstract&nbsp;protected&nbsp;function&nbsp;</span><span style="color: #0000BB">getValor</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;abstract&nbsp;protected&nbsp;function&nbsp;</span><span style="color: #0000BB">valorPrefijo</span><span style="color: #007700">(</span><span style="color: #0000BB">$prefijo</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Método&nbsp;común<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">imprimir</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getValor</span><span style="color: #007700">()&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">ClaseConcreta1&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ClaseAbstracta<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;function&nbsp;</span><span style="color: #0000BB">getValor</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">"ClaseConcreta1"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">valorPrefijo</span><span style="color: #007700">(</span><span style="color: #0000BB">$prefijo</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #007700">{</span><span style="color: #0000BB">$prefijo</span><span style="color: #007700">}</span><span style="color: #DD0000">ClaseConcreta1"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">ClaseConcreta2&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ClaseAbstracta<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">getValor</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">"ClaseConcreta2"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">valorPrefijo</span><span style="color: #007700">(</span><span style="color: #0000BB">$prefijo</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #007700">{</span><span style="color: #0000BB">$prefijo</span><span style="color: #007700">}</span><span style="color: #DD0000">ClaseConcreta2"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$clase1&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ClaseConcreta1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$clase1</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">imprimir</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #0000BB">$clase1</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">valorPrefijo</span><span style="color: #007700">(</span><span style="color: #DD0000">'FOO_'</span><span style="color: #007700">)&nbsp;.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$clase2&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ClaseConcreta2</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$clase2</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">imprimir</span><span style="color: #007700">();<br />echo&nbsp;</span><span style="color: #0000BB">$clase2</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">valorPrefijo</span><span style="color: #007700">(</span><span style="color: #DD0000">'FOO_'</span><span style="color: #007700">)&nbsp;.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

  <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
  <div class="example-contents screen">
<div class="cdata"><pre>
ClaseConcreta1
FOO_ClaseConcreta1
ClaseConcreta2
FOO_ClaseConcreta2
</pre></div>
  </div>
 </div>
 
 <div class="example" id="example-245">
  <p><strong>Ejemplo #2 Ejemplo de clase abstracta</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">abstract&nbsp;class&nbsp;</span><span style="color: #0000BB">ClaseAbstracta<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;El&nbsp;método&nbsp;abstracto&nbsp;sólo&nbsp;necesita&nbsp;definir&nbsp;los&nbsp;argumentos&nbsp;requeridos<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">abstract&nbsp;protected&nbsp;function&nbsp;</span><span style="color: #0000BB">nombrePrefijo</span><span style="color: #007700">(</span><span style="color: #0000BB">$nombre</span><span style="color: #007700">);<br /><br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">ClaseConcreta&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ClaseAbstracta<br /></span><span style="color: #007700">{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;La&nbsp;clase&nbsp;derivada&nbsp;puede&nbsp;definir&nbsp;parámetros&nbsp;opcionales&nbsp;que&nbsp;no&nbsp;estén&nbsp;en&nbsp;la&nbsp;estructura&nbsp;del&nbsp;prototipo<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">nombrePrefijo</span><span style="color: #007700">(</span><span style="color: #0000BB">$nombre</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$separador&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"."</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$nombre&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">"Pacman"</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$prefijo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"Mr"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;elseif&nbsp;(</span><span style="color: #0000BB">$nombre&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #DD0000">"Pacwoman"</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$prefijo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">"Mrs"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$prefijo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">""</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #007700">{</span><span style="color: #0000BB">$prefijo</span><span style="color: #007700">}{</span><span style="color: #0000BB">$separador</span><span style="color: #007700">}</span><span style="color: #DD0000">&nbsp;</span><span style="color: #007700">{</span><span style="color: #0000BB">$nombre</span><span style="color: #007700">}</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$clase&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ClaseConcreta</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$clase</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">nombrePrefijo</span><span style="color: #007700">(</span><span style="color: #DD0000">"Pacman"</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$clase</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">nombrePrefijo</span><span style="color: #007700">(</span><span style="color: #DD0000">"Pacwoman"</span><span style="color: #007700">),&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
Mr. Pacman
Mrs. Pacwoman
</pre></div>
   </div>
  </div>
  
  <p class="para">
   El código antiguo que no tenga clases o funciones definidas por el usuario
   llamadas &#039;abstract&#039; deberían ejecutarse sin modificaciones.
  </p>
</div>
<hr />




 




<div id="language.oop5.interfaces" class="sect1"><hr />
 <h2 class="title">Interfaces de objetos</h2>
 <p class="para">
  Las interfaces de objetos permiten crear código con el cual especificar qué
  métodos deben ser implementados por una clase, sin tener que definir cómo estos
  métodos son manipulados.
 </p>
 <p class="para">
  Las interfaces se definen de la misma manera que una clase, aunque reemplazando la palabra reservada
  <em>class</em> por la palabra reservada <em>interface</em> y sin que ninguno de sus
  métodos tenga su contenido definido.
 </p>
 <p class="para">
  Todos los métodos declarados en una interfaz deben ser públicos, ya que ésta
  es la naturaleza de una interfaz.
 </p>
 <div class="sect2" id="language.oop5.interfaces.implements">
  <h3 class="title"><em>implements</em></h3>
  <p class="para">
   Para implementar una interfaz, se utiliza el operador <em>implements</em>.
   Todos los métodos en una interfaz deben ser implementados dentro de la clase; el no
   cumplir con esta regla resultará en un error fatal. Las clases pueden implementar
   más de una interfaz si se deseara, separándolas cada una por una coma.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    Antes de PHP 5.3.9, una clase no puede implementar dos interfaces que
    especifiquen un método con el mismo nombre, ya que podría causar ambigüedad.
    Las versiones más recientes de PHP permiten esto siempre y cuando los métodos duplicados
    tengan la misma firma.
   </p>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    Las interfaces se pueden extender al igual que las clases utilizando el operador
    <a href="#language.oop5.inheritance" class="link">extends</a>.
   </p>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    La clase que implemente una interfaz debe utilizar exactamente las mismas
    estructuras de métodos que fueron definidos en la interfaz. De no cumplir
    con esta regla, se generará un error fatal.
   </p>
  </p></blockquote>
 </div>
 <div class="sect2" id="language.oop5.interfaces.constants">
  <h3 class="title"><em>Constantes</em></h3>
  <p class="para">
   Es posible tener constantes dentro de las interfaces. Las constantes de interfaces
   funcionan como las <a href="#language.oop5.constants" class="link">constantes de clases</a>
   excepto porque no pueden ser sobrescritas por una clase/interfaz que las herede.
  </p>
 </div>
 <div class="sect2" id="language.oop5.interfaces.examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="language.oop5.interfaces.examples.ex1">
   <p><strong>Ejemplo #1 Ejemplo de interfaz</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #FF8000">//&nbsp;Declarar&nbsp;la&nbsp;interfaz&nbsp;'iTemplate'<br /></span><span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">iTemplate<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">setVariable</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$var</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">getHtml</span><span style="color: #007700">(</span><span style="color: #0000BB">$template</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Implementar&nbsp;la&nbsp;interfaz<br />//&nbsp;Ésto&nbsp;funcionará&nbsp;<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Template&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">iTemplate<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$vars&nbsp;</span><span style="color: #007700">=&nbsp;array();<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">setVariable</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$var</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">vars</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$var</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">getHtml</span><span style="color: #007700">(</span><span style="color: #0000BB">$template</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">vars&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$template&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'{'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">'}'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$template</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$template</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span><span style="color: #FF8000">//&nbsp;Ésto&nbsp;no&nbsp;funcionará<br />//&nbsp;Error&nbsp;fatal:&nbsp;La&nbsp;Clase&nbsp;BadTemplate&nbsp;contiene&nbsp;un&nbsp;método&nbsp;abstracto<br />//&nbsp;y&nbsp;por&nbsp;lo&nbsp;tanto&nbsp;debe&nbsp;declararse&nbsp;como&nbsp;abstracta&nbsp;(iTemplate::getHtml)<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">BadTemplate&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">iTemplate<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$vars&nbsp;</span><span style="color: #007700">=&nbsp;array();<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">setVariable</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$var</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">vars</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$var</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <div class="example" id="language.oop5.interfaces.examples.ex2">
   <p><strong>Ejemplo #2 Interfaces extensibles</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">a<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br />}<br /><br />interface&nbsp;</span><span style="color: #0000BB">b&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">a<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">baz</span><span style="color: #007700">(</span><span style="color: #0000BB">Baz&nbsp;$baz</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Ésto&nbsp;sí&nbsp;funcionará<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">c&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">b<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">baz</span><span style="color: #007700">(</span><span style="color: #0000BB">Baz&nbsp;$baz</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Ésto&nbsp;no&nbsp;funcionará&nbsp;y&nbsp;resultará&nbsp;en&nbsp;un&nbsp;error&nbsp;fatal<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">d&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">b<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">baz</span><span style="color: #007700">(</span><span style="color: #0000BB">Foo&nbsp;$foo</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <div class="example" id="language.oop5.interfaces.examples.ex3">
   <p><strong>Ejemplo #3 Herencia múltiple de interfaces</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">a<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br />}<br /><br />interface&nbsp;</span><span style="color: #0000BB">b<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">();<br />}<br /><br />interface&nbsp;</span><span style="color: #0000BB">c&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">b<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">baz</span><span style="color: #007700">();<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">d&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">c<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">bar</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">baz</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <div class="example" id="language.oop5.interfaces.examples.ex4">
   <p><strong>Ejemplo #4 Interfaces con constantes</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">interface&nbsp;</span><span style="color: #0000BB">a<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Interface&nbsp;constant'</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Imprime:&nbsp;Interface&nbsp;constant<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">a</span><span style="color: #007700">::</span><span style="color: #0000BB">b</span><span style="color: #007700">;<br /><br /><br /></span><span style="color: #FF8000">//&nbsp;Sin&nbsp;embargo&nbsp;ésto&nbsp;no&nbsp;funcionará&nbsp;ya&nbsp;que&nbsp;no&nbsp;está&nbsp;permitido<br />//&nbsp;sobrescribir&nbsp;constantes<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">b&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">a<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;</span><span style="color: #0000BB">b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'Class&nbsp;constant'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <p class="para">
   Una interfaz, junto con la determinación de tipos, proveen una buena forma de asegurarse
   que determinado objeto contiene métodos particulares. Vea el operador
   <a href="#language.operators.type" class="link">instanceof</a> y la
   <a href="#language.oop5.typehinting" class="link">declaración de tipos</a>.
  </p>
 </div>
 
</div>
<hr />



 



<div id="language.oop5.traits" class="sect1"><hr />
 <h2 class="title">Rasgos (Traits)</h2>
 <p class="para">
  Desde su versión 5.4.0, PHP implementa una metodología de reutilización de código llamada Traits.
 </p>
 <p class="para">
  Los rasgos («traits» en inglés) son un mecanismo de reutilización de código en lenguajes de herencia simple, como
  PHP. El objetivo de un rasgo es el de reducir las limitaciones propias de la herencia simple
  permitiendo que los desarrolladores reutilicen a voluntad conjuntos de métodos sobre varias clases
  independientes y pertenecientes a clases jerárquicas distintas. La semántica a la hora combinar
  Traits y clases se define de tal manera que reduzca su complejidad y se eviten los problemas típicos
  asociados a la herencia múltiple y a los Mixins.
 </p>
 <p class="para">
  Un Trait es similar a una clase, pero con el único objetivo de agrupar funcionalidades muy
  específicas y de una manera coherente. No se puede instanciar directamente un Trait.
  Es por tanto un añadido a la herencia tradicional, y habilita la composición horizontal
  de comportamientos; es decir, permite combinar miembros de clases sin tener que usar
  herencia.
 </p>
 <div class="example" id="language.oop5.traits.basicexample">
  <p><strong>Ejemplo #1 Ejemplo de rasgo</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">ezcReflectionReturnInfo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">getReturnType</span><span style="color: #007700">()&nbsp;{&nbsp;</span><span style="color: #FF8000">/*1*/&nbsp;</span><span style="color: #007700">}<br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">getReturnDescription</span><span style="color: #007700">()&nbsp;{&nbsp;</span><span style="color: #FF8000">/*2*/&nbsp;</span><span style="color: #007700">}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">ezcReflectionMethod&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ReflectionMethod&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">ezcReflectionReturnInfo</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;...&nbsp;*/<br /></span><span style="color: #007700">}<br /><br />class&nbsp;</span><span style="color: #0000BB">ezcReflectionFunction&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">ReflectionFunction&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">ezcReflectionReturnInfo</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;...&nbsp;*/<br /></span><span style="color: #007700">}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

 </div>
 
 <div class="sect2" id="language.oop5.traits.precedence">
  <h3 class="title">Precedencia</h3>
  <p class="para">
   Los miembros heredados de una clase base se sobrescriben cuando se inserta otro miembro homónimo
   desde un Trait. De acuerdo con el orden de precedencia, los miembros de la clase actual sobrescriben
   los métodos del Trait, que a su vez sobrescribe los métodos heredados.
  </p>
  <div class="example" id="language.oop5.traits.examples.ex2">
   <p><strong>Ejemplo #2 Ejemplo de Orden de Precedencia</strong></p>
   <div class="example-contents"><p>
    Se sobrescribe un miembro de la clase base con el método
    insertado en MiHolaMundo a partir del Trait DecirMundo. El comportamiento es
    el mismo para los métodos definidos en la clase MiHolaMundo. Según el orden de precedencia
    los métodos de la clase actual sobrescriben los métodos del Trait,
    a la vez que el Trait sobrescribe los métodos de la clase base.
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Base&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">decirHola</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'¡Hola&nbsp;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />trait&nbsp;</span><span style="color: #0000BB">DecirMundo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">decirHola</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">decirHola</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Mundo!'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">MiHolaMundo&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">Base&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">DecirMundo</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MiHolaMundo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$o</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">decirHola</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
¡Hola Mundo!
</pre></div>
   </div>
  </div>
  <div class="example" id="language.oop5.traits.examples.ex3">
   <p><strong>Ejemplo #3 Ejemplo de Orden de Precedencia #2</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">HolaMundo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">decirHola</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'¡Hola&nbsp;Mundo!'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">ElMundoNoEsSuficiente&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">HolaMundo</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">decirHola</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'¡Hola&nbsp;Universo!'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">ElMundoNoEsSuficiente</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$o</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">decirHola</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
¡Hola Universo!
</pre></div>
   </div>
  </div>
 </div>
 
 <div class="sect2" id="language.oop5.traits.multiple">
  <h3 class="title">Multiples Traits</h3>
  <p class="para">
   Se pueden insertar múltiples Traits en una clase, mediante una lista separada por comas
   en la sentencia use.
  </p>
  <div class="example" id="language.oop5.traits.examples.ex4">
   <p><strong>Ejemplo #4 Uso de varios rasgos</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">Hola&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">decirHola</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Hola&nbsp;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />trait&nbsp;</span><span style="color: #0000BB">Mundo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">decirMundo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Mundo'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">MiHolaMundo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">Hola</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">Mundo</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">decirAdmiración</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'!'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MiHolaMundo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$o</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">decirHola</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$o</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">decirMundo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$o</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">decirAdmiración</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
Hola Mundo!
</pre></div>
   </div>
  </div>
 </div>
 
 <div class="sect2" id="language.oop5.traits.conflict">
  <h3 class="title">Resolución de Conflictos</h3>
  <p class="para">
   Si dos Traits insertan un método con el mismo nombre, se produce un error fatal,
   siempre y cuando no se haya resuelto explicitamente el conflicto.
  </p>
  <p class="para">
   Para resolver los conflictos de nombres entre Traits en una misma clase,
   se debe usar el operador <em>insteadof</em> para elegir unívocamente
   uno de los métodos conflictivos.
  </p>
  <p class="para">
   Como esto solamente permite excluir métodos, se puede utilizar
   el operador <em>as</em> para añadir un alias a uno de los métodos. Observe que el
   operador <em>as</em> no renombra el método ni
   afecta a cualquier otro método.
  </p>
  <div class="example" id="language.oop5.traits.examples.ex5">
   <p><strong>Ejemplo #5 Resolución de Conflictos</strong></p>
   <div class="example-contents"><p>
    En este ejemplo, Talker utiliza los traits A y B.
    Como A y B tienen métodos conflictos, se define el uso
    de la variante de smallTalk del trait B, y la variante de bigTalk del
    trait A.
   </p></div>
   <div class="example-contents"><p>
    Aliased_Talker hace uso del operador <em>as</em> para poder usar la
    implementación de bigTalk de B, bajo el alias adicional
    <em>talk</em>.
   </p></div>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">smallTalk</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'a'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">bigTalk</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'A'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />trait&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">smallTalk</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'b'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">bigTalk</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'B'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">Talker&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">::</span><span style="color: #0000BB">smallTalk&nbsp;</span><span style="color: #007700">insteadof&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">::</span><span style="color: #0000BB">bigTalk&nbsp;</span><span style="color: #007700">insteadof&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">Aliased_Talker&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">::</span><span style="color: #0000BB">smallTalk&nbsp;</span><span style="color: #007700">insteadof&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">::</span><span style="color: #0000BB">bigTalk&nbsp;</span><span style="color: #007700">insteadof&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">::</span><span style="color: #0000BB">bigTalk&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">talk</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    Antes de PHP 7.0, definir una propiedad en una clase con el mismo nombre que en un rasgo
    lanzaba un <strong><code>E_STRICT</code></strong> si la definición de la clase era compatible 
    (misma visivilidad y mismo valor inicial).
   </p>
  </p></blockquote>
 </div>
 
 <div class="sect2" id="language.oop5.traits.visibility">
  <h3 class="title">Modificando la Visibilidad de los Métodos</h3>
  <p class="para">
   Al usar el operador <em>as</em>, se puede también ajustar la visibilidad
   del método en la clase exhibida.
  </p>
  <div class="example" id="language.oop5.traits.visibility.ex1">
   <p><strong>Ejemplo #6 Modificar la Visibilidad de un Método</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">HolaMundo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">decirHola</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Hola&nbsp;Mundo!'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Cambiamos&nbsp;visibilidad&nbsp;de&nbsp;decirHola<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MiClase1&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">HolaMundo&nbsp;</span><span style="color: #007700">{&nbsp;</span><span style="color: #0000BB">decirHola&nbsp;</span><span style="color: #007700">as&nbsp;protected;&nbsp;}<br />}<br /><br /></span><span style="color: #FF8000">//&nbsp;Método&nbsp;alias&nbsp;con&nbsp;visibilidad&nbsp;cambiada<br />//&nbsp;La&nbsp;visibilidad&nbsp;de&nbsp;decirHola&nbsp;no&nbsp;cambia<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MiClase2&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">HolaMundo&nbsp;</span><span style="color: #007700">{&nbsp;</span><span style="color: #0000BB">decirHola&nbsp;</span><span style="color: #007700">as&nbsp;private&nbsp;</span><span style="color: #0000BB">miPrivadoHola</span><span style="color: #007700">;&nbsp;}<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </div>
 
 <div class="sect2" id="language.oop5.traits.composition">
  <h3 class="title">Traits Compuestos de Traits</h3>
  <p class="para">
   Al igual que las clases, los Traits también pueden hacer uso de otros Traits. Al usar
   uno o más traits en la definición de un trait, éste puede componerse parcial
   o completamente de miembros definidos en esos otros traits.
  </p>
  <div class="example" id="language.oop5.traits.examples.ex6">
   <p><strong>Ejemplo #7 Traits compuestos de traits</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">Hola&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">decirHola</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Hola&nbsp;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />trait&nbsp;</span><span style="color: #0000BB">Mundo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">decirMundo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Mundo!'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />trait&nbsp;</span><span style="color: #0000BB">HolaMundo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">Hola</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">Mundo</span><span style="color: #007700">;<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">MiHolaMundo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">HolaMundo</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MiHolaMundo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$o</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">decirHola</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$o</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">decirMundo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
Hola Mundo!
</pre></div>
   </div>
  </div>
 </div>
 
 <div class="sect2" id="language.oop5.traits.abstract">
  <h3 class="title">Miembros Abstractos de Traits</h3>
  <p class="para">
   Los traits soportan el uso de métodos abstractos para imponer requisitos
   a la clase a la que se exhiban.
  </p>
  <div class="example" id="language.oop5.traits.examples.ex7">
   <p><strong>Ejemplo #8 Expresar Resquisitos con Métodos Abstractos</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">Hola&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">decirHolaMundo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'Hola'</span><span style="color: #007700">.</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">obtenerMundo</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;abstract&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">obtenerMundo</span><span style="color: #007700">();<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">MiHolaMundo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$mundo</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">Hola</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">obtenerMundo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">mundo</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">asignarMundo</span><span style="color: #007700">(</span><span style="color: #0000BB">$val</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">mundo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$val</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </div>
 
 <div class="sect2" id="language.oop5.traits.static">
  <h3 class="title">Miembros Estáticos en Traits</h3>
  <p class="para">
   Los trait pueden definir miembros y métodos estáticos.
  </p>
  <div class="example" id="language.oop5.traits.examples.ex8">
   <p><strong>Ejemplo #9 Variables estáticas</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">Contador&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">inc</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$c</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">C1&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">Contador</span><span style="color: #007700">;<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">C2&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">Contador</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">C1</span><span style="color: #007700">();&nbsp;</span><span style="color: #0000BB">$o</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">inc</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;echo&nbsp;1<br /></span><span style="color: #0000BB">$p&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">C2</span><span style="color: #007700">();&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">inc</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;echo&nbsp;1<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <div class="example" id="language.oop5.traits.examples.ex9">
   <p><strong>Ejemplo #10 Métodos Estáticos</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">EjemploEstatico&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">hacerAlgo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">'Hacer&nbsp;algo'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">Ejemplo&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">EjemploEstatico</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">Ejemplo</span><span style="color: #007700">::</span><span style="color: #0000BB">hacerAlgo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </div>
 
 <div class="sect2" id="language.oop5.traits.properties">
  <h3 class="title">Propiedades</h3>
  <p class="para">
   Los traits también pueden definir propiedades.
  </p>
  <div class="example" id="language.oop5.traits.properties.example">
   <p><strong>Ejemplo #11 Definir Propiedades</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">PropiedadesTrait&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$x&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">EjemploPropiedades&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">PropiedadesTrait</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">$ejemplo&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">EjemploPropiedades</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$ejemplo</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">x</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
  <p class="para">
   Si un trait define una propiedad, una clase no puede definir una propiedad con
   el mismo nombre, a menos que sea compatible (misma visibilidad y mismo valor inicial),
   si no, se emitirá un error fatal.
   Antes de PHP 7.0, definir una propiedad en una clase con la misma visibilidad
   y el mismo valor inicial que en el rasgo, emitía un aviso E_STRICT.
  </p>
  <div class="example" id="language.oop5.traits.properties.conflicts">
   <p><strong>Ejemplo #12 Resolución de Conflictos</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">trait&nbsp;</span><span style="color: #0000BB">PropiedadesTrait&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$misma&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$diferente&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">;<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">EjemploPropiedades&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">PropiedadesTrait</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$misma&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;Permitido&nbsp;a&nbsp;partir&nbsp;de&nbsp;PHP&nbsp;7.0.0;&nbsp;aviso&nbsp;E_STRICT&nbsp;anteriormente<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">$diferente&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">;&nbsp;</span><span style="color: #FF8000">//&nbsp;Error&nbsp;fatal<br /></span><span style="color: #007700">}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </div>
 
</div>
<hr />




 




<div id="language.oop5.anonymous" class="sect1"><hr />
 <h2 class="title">Clases anónimas</h2>
 
 <p class="para">
  En PHP 7 se ha añadido soporte para clases anónimas. Las clases anónimas son
  útiles cuando es necesario crear objetos sencillos y únicos.
 </p>
 
 <div class="informalexample">
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #FF8000">//&nbsp;Código&nbsp;anterior&nbsp;a&nbsp;PHP&nbsp;7<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Logger<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">log</span><span style="color: #007700">(</span><span style="color: #0000BB">$msg</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$msg</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$util</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setLogger</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">Logger</span><span style="color: #007700">());<br /><br /></span><span style="color: #FF8000">//&nbsp;Código&nbsp;de&nbsp;PHP&nbsp;7+<br /></span><span style="color: #0000BB">$util</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setLogger</span><span style="color: #007700">(new&nbsp;class&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">log</span><span style="color: #007700">(</span><span style="color: #0000BB">$msg</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$msg</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />});</span>
</span>
</code></div>
  </div>

 </div>
 
 <p class="para">
  Pueden pasar argumentos a través de sus constructores, extender otras clases,
  implementar interfaces, y utilizar rasgos al igual que una clase normal:
 </p>
 
 <div class="informalexample">
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">SomeClass&nbsp;</span><span style="color: #007700">{}<br />interface&nbsp;</span><span style="color: #0000BB">SomeInterface&nbsp;</span><span style="color: #007700">{}<br />trait&nbsp;</span><span style="color: #0000BB">SomeTrait&nbsp;</span><span style="color: #007700">{}<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(new&nbsp;class(</span><span style="color: #0000BB">10</span><span style="color: #007700">)&nbsp;extends&nbsp;</span><span style="color: #0000BB">SomeClass&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">SomeInterface&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$num</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$num</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">num&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$num</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;use&nbsp;</span><span style="color: #0000BB">SomeTrait</span><span style="color: #007700">;<br />});</span>
</span>
</code></div>
  </div>

  <p class="para">El resultado del ejemplo sería:</p>
  <div class="example-contents screen">
<div class="cdata"><pre>
object(class@anonymous)#1 (1) {
  [&quot;Command line code0x104c5b612&quot;:&quot;class@anonymous&quot;:private]=&gt;
  int(10)
}
</pre></div>
  </div>
 </div>
 
 <p class="para">
  El anidamiento de una clase anónima dentro de otra clase no le proporciona acceso a
  ningún método o propiedad privados o protegidos de la clase externa. Para
  utilizar las propiedades o métodos protegidos de la clase externa, la clase anónima
  puede extender la clase externa. Para utilizar las propiedades privadas de
  la clase externa en la clase anónima, estos deben pasarse a su
  constructor:
 </p>
 
 <div class="informalexample">
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Externa<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$prop&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$prop2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;function&nbsp;</span><span style="color: #0000BB">func1</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">3</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">func2</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;class(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">prop</span><span style="color: #007700">)&nbsp;extends&nbsp;</span><span style="color: #0000BB">Externa&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$prop3</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$prop</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">prop3&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$prop</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">func3</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">prop2&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">prop3&nbsp;</span><span style="color: #007700">+&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">func1</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />echo&nbsp;(new&nbsp;</span><span style="color: #0000BB">Externa</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">func2</span><span style="color: #007700">()-&gt;</span><span style="color: #0000BB">func3</span><span style="color: #007700">();</span>
</span>
</code></div>
  </div>

  <p class="para">El resultado del ejemplo sería:</p>
  <div class="example-contents screen">
<div class="cdata"><pre>
6
</pre></div>
  </div>
 </div>
 
 <p class="para">
  Todos los objetos creados por la misma declaración de clase anónima son instancias de
  esa misma clase.
 </p>
 
 <div class="informalexample">
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">clase_anónima</span><span style="color: #007700">()<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;class&nbsp;{};<br />}<br /><br />if&nbsp;(</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">clase_anónima</span><span style="color: #007700">())&nbsp;===&nbsp;</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(</span><span style="color: #0000BB">clase_anónima</span><span style="color: #007700">()))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'misma&nbsp;clase'</span><span style="color: #007700">;<br />}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'clase&nbsp;diferente'</span><span style="color: #007700">;<br />}</span>
</span>
</code></div>
  </div>

  <p class="para">El resultado del ejemplo sería:</p>
  <div class="example-contents screen">
<div class="cdata"><pre>
misma clase
</pre></div>
  </div>
 </div>
 
 <blockquote class="note"><p><strong class="note">Nota</strong>: 
  <p class="para">
   Observe que el motor le asigna un nombre a las clases anónimas, como
   se demuestra en el siguiente ejemplo. Este nombre name ha de considerarse un
   detalle de implementación del cual no se debería depender.
  </p>
  <div class="informalexample">
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">get_class</span><span style="color: #007700">(new&nbsp;class&nbsp;{});</span>
</span>
</code></div>
   </div>

   <p class="para">El resultado del ejemplo 
sería algo similar a:</p>
   <div class="example-contents screen">
<div class="cdata"><pre>
class@anonymous/in/oNi1A0x7f8636ad2021
</pre></div>
   </div>
  </div>
 </p></blockquote>
</div>
<hr />




 



<div id="language.oop5.overloading" class="sect1"><hr />
 <h2 class="title">Sobrecarga</h2>
 
 <p class="para">
  La sobrecarga en PHP ofrece los medios para "<span class="quote">crear</span>"
  dinámicamente propiedades y métodos. Estas entidades dinámicas se
  procesan por los métodos mágicos que se pueden establecer en una clase
  para diversas acciones.
 </p>
 
 <p class="para">
  Se invoca a los métodos de sobrecarga cuando se interactúa
  con propiedades o métodos que no se han declarado o que no son
  <a href="#language.oop5.visibility" class="link">visibles</a> en el
  ámbito activo. A lo largo de esta sección usaremos los términos
  "<span class="quote">propiedades inaccesibles</span>" y "<span class="quote">métodos
  inaccesibles</span>" para referirnos a esta combinación de declaración
  y visibilidad.
 </p>
 
 <p class="para">
  Todos los métodos sobrecargados deben definirse como <em>public</em>.
 </p>
 
 <blockquote class="note"><p><strong class="note">Nota</strong>: 
  <p class="para">
   No se puede pasar ninguno de los parámetros de estos métodos mágicos
   <a href="#functions.arguments.by-reference" class="link">por
    referencia</a>.
  </p>
 </p></blockquote>
 
 <blockquote class="note"><p><strong class="note">Nota</strong>: 
  <p class="para">
   La interpretación de PHP de "<span class="quote">overloading</span>" es distinta
   de la mayoría de los lenguajes orientados a objetos. La sobrecarga
   tradicionalmente ofrece la capacidad de tener múltiples métodos
   con el mismo nombre, pero con un tipo o un número distinto de
   parámetros.
  </p>
 </p></blockquote>
 
 
 <div class="sect2" id="language.oop5.overloading.changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.3.0</td>
       <td>
        Se añadió <a href="#object.callstatic" class="link">__callStatic</a>.
        Se añadieron advertencias para hacer cumplir la visibilidad pública e impedir la declaración static.
       </td>
      </tr>

      <tr>
       <td>5.1.0</td>
       <td>
        Se añadieron <a href="#object.isset" class="link">__isset()</a> y <a href="#object.unset" class="link">__unset()</a>. 
        Se añadió el soporte para <a href="#object.get" class="link">__get()</a> para la sobrecarga de propiedades privadas.
       </td>
      </tr>

      <tr>
       <td>5.0.0</td>
       <td>
        Se añadió <a href="#object.get" class="link">__get()</a>.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>
 
 
 <div class="sect2" id="language.oop5.overloading.members">
  <h3 class="title">Sobrecarga de propiedades</h3>
  
  <div class="methodsynopsis dc-description" id="object.set">
   <span class="modifier">public</span> <span class="type"><span class="type void">void</span></span> <span class="methodname"><strong>__set</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>
   , <span class="methodparam"><span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <code class="parameter">$value</code></span>
   )</div>

  <div class="methodsynopsis dc-description" id="object.get">
   <span class="modifier">public</span> <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <span class="methodname"><strong>__get</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>
   )</div>

  <div class="methodsynopsis dc-description" id="object.isset">
   <span class="modifier">public</span> <span class="type">bool</span> <span class="methodname"><strong>__isset</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>
   )</div>

  <div class="methodsynopsis dc-description" id="object.unset">
   <span class="modifier">public</span> <span class="type"><span class="type void">void</span></span> <span class="methodname"><strong>__unset</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>
   )</div>

  
  <p class="para">
   <a href="#object.set" class="link">__set()</a> se ejecuta al escribir datos sobre
   propiedades inaccesibles.
  </p>
  
  <p class="para">
   <a href="#object.get" class="link">__get()</a> se utiliza para consultar datos a partir de
   propiedades inaccesibles.
  </p>
  
  <p class="para">
   <a href="#object.isset" class="link">__isset()</a> se lanza al llamar a
   <span class="function"><a href="#function.isset" class="function">isset()</a></span> o a <span class="function"><a href="#function.empty" class="function">empty()</a></span>
   sobre propiedades inaccesibles.
  </p>
  
  <p class="para">
   <a href="#object.unset" class="link">__unset()</a> se invoca cuando se usa
   <span class="function"><a href="#function.unset" class="function">unset()</a></span> sobre propiedades inaccesibles.
  </p>
  
  <p class="para">
   El parámetro <var class="varname"><var class="varname">$name</var></var> es el nombre de la propiedad con
   la que se está interactuando. En el método <a href="#object.set" class="link">__set()</a>
   el parámetro <var class="varname"><var class="varname">$value</var></var> especifica el valor que se debe
   asignar a la propiedad
   <var class="varname"><var class="varname">$name</var></var>.
  </p>
  
  <p class="para">
   La sobrecarga de propiedades sólo funciona en contextos de objetos. Estos métodos
   mágicos no se lanzarán en contextos estáticos. Por esa razón, no se
   deben declarar como
   <a href="#language.oop5.static" class="link">estáticos</a>. Desde PHP 
   5.3.0, se emite un aviso si alguno de los métodos de sobrecarga
   es declarado como <em>static</em>.
  </p>
  
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    Debido a la forma en que PHP procesa el operador de asignación,
    el valor que devuelve <a href="#object.set" class="link">__set()</a> se ignora.
    Del mismo modo, nunca se llama a <a href="#object.get" class="link">__get()</a> al 
    encadenar asignaciones como esta:
<em><div class="cdata"><pre> $a = $obj-&gt;b = 8; </pre></div></em>
   </p>
  </p></blockquote>
  
  <div class="example" id="example-262">
   <p><strong>Ejemplo #1 
    Sobrecarga de propiedades mediante los métodos <a href="#object.get" class="link">__get()</a>,
    <a href="#object.set" class="link">__set()</a>, <a href="#object.isset" class="link">__isset()</a>
    y <a href="#object.unset" class="link">__unset()</a>
   </strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">PropertyTest<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**&nbsp;&nbsp;Localización&nbsp;de&nbsp;los&nbsp;datos&nbsp;sobrecargados.&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;</span><span style="color: #0000BB">$data&nbsp;</span><span style="color: #007700">=&nbsp;array();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**&nbsp;&nbsp;La&nbsp;sobrecarga&nbsp;no&nbsp;se&nbsp;usa&nbsp;en&nbsp;propiedades&nbsp;declaradas.&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;</span><span style="color: #0000BB">$declared&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**&nbsp;&nbsp;La&nbsp;sobre&nbsp;carga&nbsp;sólo&nbsp;funciona&nbsp;aquí&nbsp;al&nbsp;acceder&nbsp;desde&nbsp;fuera&nbsp;de&nbsp;la&nbsp;clase.&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">private&nbsp;</span><span style="color: #0000BB">$hidden&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__set</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Estableciendo&nbsp;'</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">'&nbsp;a&nbsp;'</span><span style="color: #0000BB">$value</span><span style="color: #DD0000">'\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">data</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]&nbsp;=&nbsp;</span><span style="color: #0000BB">$value</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__get</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Consultando&nbsp;'</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">'\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">array_key_exists</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">data</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">data</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$trace&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">debug_backtrace</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">trigger_error</span><span style="color: #007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'Propiedad&nbsp;indefinida&nbsp;mediante&nbsp;__get():&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$name&nbsp;</span><span style="color: #007700">.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'&nbsp;en&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">][</span><span style="color: #DD0000">'file'</span><span style="color: #007700">]&nbsp;.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'&nbsp;en&nbsp;la&nbsp;línea&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">$trace</span><span style="color: #007700">[</span><span style="color: #0000BB">0</span><span style="color: #007700">][</span><span style="color: #DD0000">'line'</span><span style="color: #007700">],<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">E_USER_NOTICE</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">null</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**&nbsp;&nbsp;Desde&nbsp;PHP&nbsp;5.1.0&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">__isset</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"¿Está&nbsp;definido&nbsp;'</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">'?\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;isset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">data</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**&nbsp;&nbsp;Desde&nbsp;PHP&nbsp;5.1.0&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">__unset</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"Eliminando&nbsp;'</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">'\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unset(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">data</span><span style="color: #007700">[</span><span style="color: #0000BB">$name</span><span style="color: #007700">]);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**&nbsp;&nbsp;No&nbsp;es&nbsp;un&nbsp;método&nbsp;mágico,&nbsp;esta&nbsp;aquí&nbsp;para&nbsp;completar&nbsp;el&nbsp;ejemplo.&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">getHidden</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">hidden</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /><br />echo&nbsp;</span><span style="color: #DD0000">"&lt;pre&gt;\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$obj&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">PropertyTest</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(isset(</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">));<br />unset(</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(isset(</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">a</span><span style="color: #007700">));<br />echo&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">declared&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n\n"</span><span style="color: #007700">;<br /><br />echo&nbsp;</span><span style="color: #DD0000">"Vamos&nbsp;a&nbsp;probar&nbsp;con&nbsp;la&nbsp;propiedad&nbsp;privada&nbsp;que&nbsp;se&nbsp;llama&nbsp;'hidden':\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">"Las&nbsp;propiedades&nbsp;privadas&nbsp;pueden&nbsp;consultarse&nbsp;en&nbsp;la&nbsp;clase,&nbsp;por&nbsp;lo&nbsp;que&nbsp;no&nbsp;se&nbsp;usa&nbsp;__get()...\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getHidden</span><span style="color: #007700">()&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #DD0000">"Las&nbsp;propiedades&nbsp;privadas&nbsp;no&nbsp;son&nbsp;visibles&nbsp;fuera&nbsp;de&nbsp;la&nbsp;clase,&nbsp;por&nbsp;lo&nbsp;que&nbsp;se&nbsp;usa&nbsp;__get()...\n"</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">hidden&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
Estableciendo &#039;a&#039; a &#039;1&#039;
Consultando &#039;a&#039;
1

¿Está definido &#039;a&#039;?
bool(true)
Eliminando &#039;a&#039;
¿Está definido &#039;a&#039;?
bool(false)

1

Vamos a probar con la propiedad privada que se llama &#039;hidden&#039;:
Las propiedades privadas pueden consultarse en la clase, por lo que no se usa __get()...
2
Las propiedades privadas no son visibles fuera de la clase, por lo que se usa __get()...
Consultando &#039;hidden&#039;


Notice:  Propiedad indefinida mediante __get(): hidden en &lt;file&gt; en la línea 69 in &lt;file&gt;en la línea 28
</pre></div>
   </div>
   
  </div>
 </div>
 
 <div class="sect2" id="language.oop5.overloading.methods">
  <h3 class="title">Sobrecarga de métodos</h3>
  
  <div class="methodsynopsis dc-description" id="object.call">
   <span class="modifier">public</span> <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <span class="methodname"><strong>__call</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>
   , <span class="methodparam"><span class="type">array</span> <code class="parameter">$arguments</code></span>
   )</div>

  <div class="methodsynopsis dc-description" id="object.callstatic">
   <span class="modifier">public static</span> <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <span class="methodname"><strong>__callStatic</strong></span>
    ( <span class="methodparam"><span class="type">string</span> <code class="parameter">$name</code></span>
   , <span class="methodparam"><span class="type">array</span> <code class="parameter">$arguments</code></span>
   )</div>

  
  <p class="para">
   <a href="#object.call" class="link">__call()</a> es lanzado al invocar
   un método inaccesible en un contexto de objeto.
  </p>
  
  <p class="para">
   <a href="#object.callstatic" class="link">__callStatic()</a> es lanzado al invocar
   un método inaccesible en un contexto estático.
  </p>
  
  <p class="para">
   El parámetro <var class="varname"><var class="varname">$name</var></var> corresponde al nombre del
   método al que se está llamando. El parámetro <var class="varname"><var class="varname">$arguments</var></var>
   es un array enumerado que contiene los parámetros
   que se han pasado al método <var class="varname"><var class="varname">$name</var></var>.
  </p>
  
  <div class="example" id="example-263">
   <p><strong>Ejemplo #2 
    Sobrecarga de métodos mediante los métodos <a href="#object.call" class="link">__call()</a>
    and <a href="#object.callstatic" class="link">__callStatic()</a>
   </strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MethodTest<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__call</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$arguments</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Nota:&nbsp;el&nbsp;valor&nbsp;$name&nbsp;es&nbsp;sensible&nbsp;a&nbsp;mayúsculas.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"Llamando&nbsp;al&nbsp;método&nbsp;de&nbsp;objeto&nbsp;'</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">'&nbsp;"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">',&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$arguments</span><span style="color: #007700">).&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/**&nbsp;&nbsp;Desde&nbsp;PHP&nbsp;5.3.0&nbsp;&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">__callStatic</span><span style="color: #007700">(</span><span style="color: #0000BB">$name</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$arguments</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Nota:&nbsp;el&nbsp;valor&nbsp;$name&nbsp;es&nbsp;sensible&nbsp;a&nbsp;mayúsculas.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #DD0000">"Llamando&nbsp;al&nbsp;método&nbsp;estático&nbsp;'</span><span style="color: #0000BB">$name</span><span style="color: #DD0000">'&nbsp;"<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">implode</span><span style="color: #007700">(</span><span style="color: #DD0000">',&nbsp;'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$arguments</span><span style="color: #007700">).&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$obj&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MethodTest</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">runTest</span><span style="color: #007700">(</span><span style="color: #DD0000">'en&nbsp;contexto&nbsp;de&nbsp;objeto'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">MethodTest</span><span style="color: #007700">::</span><span style="color: #0000BB">runTest</span><span style="color: #007700">(</span><span style="color: #DD0000">'en&nbsp;contexto&nbsp;estático'</span><span style="color: #007700">);&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Desde&nbsp;PHP&nbsp;5.3.0<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
Llamando al método de objeto &#039;runTest&#039; en contexto de objeto
Llamando al método estático &#039;runTest&#039; en contexto estático
</pre></div>
   </div>
  </div>
  
 </div>
 
</div>
<hr />




 



<div id="language.oop5.iterations" class="sect1"><hr />
 <h2 class="title">Iteración de objetos</h2>
 <p class="para">
  
  PHP 5 ofrece una manera para definir objetos, por lo que es posible recorrer
  una lista de elementos con, por ejemplo, una sentencia <a href="#control-structures.foreach" class="link">foreach</a>. Por defecto,
  se utilizarán todas las propiedades <a href="#language.oop5.visibility" class="link">visibles</a>
  para la iteración.
  
 </p>
 
 <div class="example" id="example-264">
  <p><strong>Ejemplo #1 Iteración simple de un objeto</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MiClase<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$var1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'valor&nbsp;1'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$var2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'valor&nbsp;2'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$var3&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'valor&nbsp;3'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$protected&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'variable&nbsp;protegida'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$private&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'variable&nbsp;privada'</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">iterateVisible</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"MiClase::iterateVisible:\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreach&nbsp;(</span><span style="color: #0000BB">$this&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$clave&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$valor</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$clave</span><span style="color: #DD0000">&nbsp;=&gt;&nbsp;</span><span style="color: #0000BB">$valor</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$clase&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MiClase</span><span style="color: #007700">();<br /><br />foreach(</span><span style="color: #0000BB">$clase&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$clave&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$valor</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$clave</span><span style="color: #DD0000">&nbsp;=&gt;&nbsp;</span><span style="color: #0000BB">$valor</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />}<br />echo&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /><br /></span><span style="color: #0000BB">$clase</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">iterateVisible</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

  <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
  <div class="example-contents screen">
<div class="cdata"><pre>
var1 =&gt; valor 1
var2 =&gt; valor 2
var3 =&gt; valor 3

MiClase::iterateVisible:
var1 =&gt; valor 1
var2 =&gt; valor 2
var3 =&gt; valor 3
protected =&gt; variable protegida
private =&gt; variable privada
</pre></div>
  </div>
  
 </div>
 
 <p class="para">
  Como se muestra en la salida, <a href="#control-structures.foreach" class="link">foreach</a> recorre todas las propiedades
  <a href="#language.oop5.visibility" class="link">visibles</a> a las que se pueden
  acceder.
 </p>
 <p class="para">
  Para dar un paso más, se puede implementar la <a href="#language.oop5.interfaces" class="link">interfaz</a>
  <span class="interfacename"><a href="#class.iterator" class="interfacename">Iterator</a></span>.
  Esto permite al objeto decidir cómo será iterado y qué valores
  estarán disponibles en cada iteración.
 </p>
 
 <div class="example" id="example-265">
  <p><strong>Ejemplo #2 Iteración de un objeto implementando Iterator</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MiIterador&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">Iterator<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">=&nbsp;array();<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">is_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$array</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">var&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$array</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">rewind</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"rebobinando\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">reset</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">var</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">current</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">current</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">var</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"actual:&nbsp;</span><span style="color: #0000BB">$var</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$var</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">key</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">key</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">var</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"clave:&nbsp;</span><span style="color: #0000BB">$var</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$var</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">next</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">next</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">var</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"siguiente:&nbsp;</span><span style="color: #0000BB">$var</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$var</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">valid</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$clave&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">key</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">var</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$var&nbsp;</span><span style="color: #007700">=&nbsp;(</span><span style="color: #0000BB">$clave&nbsp;</span><span style="color: #007700">!==&nbsp;</span><span style="color: #0000BB">NULL&nbsp;</span><span style="color: #007700">&amp;&amp;&nbsp;</span><span style="color: #0000BB">$clave&nbsp;</span><span style="color: #007700">!==&nbsp;</span><span style="color: #0000BB">FALSE</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"válido:&nbsp;</span><span style="color: #0000BB">$var</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$var</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />}<br /><br /></span><span style="color: #0000BB">$valores&nbsp;</span><span style="color: #007700">=&nbsp;array(</span><span style="color: #0000BB">1</span><span style="color: #007700">,</span><span style="color: #0000BB">2</span><span style="color: #007700">,</span><span style="color: #0000BB">3</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$it&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MiIterador</span><span style="color: #007700">(</span><span style="color: #0000BB">$valores</span><span style="color: #007700">);<br /><br />foreach&nbsp;(</span><span style="color: #0000BB">$it&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;print&nbsp;</span><span style="color: #DD0000">"</span><span style="color: #0000BB">$a</span><span style="color: #DD0000">:&nbsp;</span><span style="color: #0000BB">$b</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

  <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
  <div class="example-contents screen">
<div class="cdata"><pre>
rebobinando
válido: 1
actual: 1
clave: 0
0: 1
siguiente: 2
válido: 1
actual: 2
clave: 1
1: 2
siguiente: 3
válido: 1
actual: 3
clave: 2
2: 3
siguiente:
válido:
</pre></div>
  </div>
  
 </div>
 
 <p class="para">
  La <a href="#language.oop5.interfaces" class="link">interfaz</a>
  <span class="interfacename"><a href="#class.iteratoraggregate" class="interfacename">IteratorAggregate</a></span>
  se puede usar como alternativa para implementar todos los métodos de
  <span class="interfacename"><a href="#class.iterator" class="interfacename">Iterator</a></span>.
  <span class="interfacename"><a href="#class.iteratoraggregate" class="interfacename">IteratorAggregate</a></span> solamente requiere la
  implementación de un único método,
  <span class="methodname"><a href="#iteratoraggregate.getiterator" class="methodname">IteratorAggregate::getIterator()</a></span>, el cual debería devolver
  una instancia de una clase que implemente <span class="interfacename"><a href="#class.iterator" class="interfacename">Iterator</a></span>.
 </p>
 
 <div class="example" id="example-266">
  <p><strong>Ejemplo #3 Iteración de un objeto implementando IteratorAggregate</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">MiColección&nbsp;</span><span style="color: #007700">implements&nbsp;</span><span style="color: #0000BB">IteratorAggregate<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$items&nbsp;</span><span style="color: #007700">=&nbsp;array();<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$cuenta&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Se&nbsp;requiere&nbsp;la&nbsp;definición&nbsp;de&nbsp;la&nbsp;interfaz&nbsp;IteratorAggregate<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">public&nbsp;function&nbsp;</span><span style="color: #0000BB">getIterator</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;new&nbsp;</span><span style="color: #0000BB">MiIterador</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">items</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #0000BB">$valor</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">items</span><span style="color: #007700">[</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">cuenta</span><span style="color: #007700">++]&nbsp;=&nbsp;</span><span style="color: #0000BB">$valor</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$colección&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MiColección</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$colección</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #DD0000">'valor&nbsp;1'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$colección</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #DD0000">'valor&nbsp;2'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$colección</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">add</span><span style="color: #007700">(</span><span style="color: #DD0000">'valor&nbsp;3'</span><span style="color: #007700">);<br /><br />foreach&nbsp;(</span><span style="color: #0000BB">$colección&nbsp;</span><span style="color: #007700">as&nbsp;</span><span style="color: #0000BB">$clave&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$val</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"clave/valor:&nbsp;[</span><span style="color: #0000BB">$clave</span><span style="color: #DD0000">&nbsp;-&gt;&nbsp;</span><span style="color: #0000BB">$val</span><span style="color: #DD0000">]\n\n"</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

  <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>  
  <div class="example-contents screen">
<div class="cdata"><pre>
rebobinando
actual: valor 1
válido: 1
actual: valor 1
clave: 0
clave/valor: [0 -&gt; valor 1]

siguiente: valor 2
actual: valor 2
válido: 1
actual: valor 2
clave: 1
clave/valor: [1 -&gt; valor 2]

siguiente: valor 3
actual: valor 3
válido: 1
actual: valor 3
clave: 2
clave/valor: [2 -&gt; valor 3]

siguiente:
actual:
válido:
</pre></div>
  </div>
  
 </div>
 
 <blockquote class="note"><p><strong class="note">Nota</strong>: 
  <p class="para">
   Para más ejemplos de iteradores, véase la
   <a href="#spl.iterators" class="link">extensión SPL</a>.
  </p>
 </p></blockquote>
 
 <blockquote class="note"><p><strong class="note">Nota</strong>: 
  <p class="para">
   Los usuarios de PHP 5.5 y posteriores pueden investigar los
   <a href="#language.generators" class="link">generadores</a>, los cuales posibilitan una
   forma alternativa de definir iteradores.
  </p>
 </p></blockquote>
 
</div>
<hr />




 



<div id="language.oop5.magic" class="sect1"><hr />
 <h2 class="title">Métodos mágicos</h2> 
 <p class="para">
  Los nombres de los métodos
  <a href="#object.construct" class="link">__construct()</a>,
  <a href="#object.destruct" class="link">__destruct()</a>,
  <a href="#object.call" class="link">__call()</a>,
  <a href="#object.callstatic" class="link">__callStatic()</a>,
  <a href="#object.get" class="link">__get()</a>,
  <a href="#object.set" class="link">__set()</a>,
  <a href="#object.isset" class="link">__isset()</a>,
  <a href="#object.unset" class="link">__unset()</a>,
  <a href="#object.sleep" class="link">__sleep()</a>,
  <a href="#object.wakeup" class="link">__wakeup()</a>,
  <a href="#object.tostring" class="link">__toString()</a>,
  <a href="#object.invoke" class="link">__invoke()</a>,
  <a href="#object.set-state" class="link">__set_state()</a>,
  <a href="#object.clone" class="link">__clone()</a> y
  <a href="#object.debuginfo" class="link">__debugInfo()</a>
  son mágicos en las clases PHP. No se
  puede tener métodos con estos nombres en ninguna
  clase a menos que se desee la funcionalidad mágica asociada
  a estos.
 </p>
 
 <div class="caution"><strong class="caution">Precaución</strong>
  <p class="simpara">
   PHP se reserva todos los nombres de los métodos que comienzan con __ como mágicos.
   Se recomienda que no utilice los nombres de métodos con __ en PHP a menos que desee 
   alguna funcionalidad mágica documentada.
  </p>
 </div>
 
 <div class="sect2" id="language.oop5.magic.sleep">
  <h3 class="title">
   <a href="#object.sleep" class="link">__sleep()</a> y
   <a href="#object.wakeup" class="link">__wakeup()</a>
  </h3>
  
  <div class="methodsynopsis dc-description" id="object.sleep">
   <span class="modifier">public</span> <span class="type">array</span> <span class="methodname"><strong>__sleep</strong></span>
    ( <span class="methodparam">void</span>
   )</div>

  <div class="methodsynopsis dc-description" id="object.wakeup">
   <span class="type"><span class="type void">void</span></span> <span class="methodname"><strong>__wakeup</strong></span>
    ( <span class="methodparam">void</span>
   )</div>

  
  <p class="para">
   <span class="function"><a href="#function.serialize" class="function">serialize()</a></span> comprueba si la clase tiene un método con 
   el nombre mágico <a href="#object.sleep" class="link">__sleep()</a>. Si es así, 
   el método se ejecuta antes de cualquier serialización. Se puede limpiar el objeto y se supone 
   que devuelve un array con los nombres de todas las variables de el objeto que se va a serializar.
   Si el método no devuelve nada, entonces <strong><code>NULL</code></strong> es serializado y un error <strong><code>E_NOTICE</code></strong> es emitido.
   
   
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    No es posible para <a href="#object.sleep" class="link">__sleep()</a> devolver 
    nombres de propiedades privadas en las clases padres. Hacer esto resultaría un nivel de error
    <strong><code>E_NOTICE</code></strong>. En su lugar, puede utilizar la interfaz
    <a href="#class.serializable" class="classname">Serializable</a>.
   </p>
  </p></blockquote>
  <p class="para">
   El uso para el que está destinado <a href="#object.sleep" class="link">__sleep()</a> consiste 
   en confirmar datos pendientes o realizar tareas similares de limpieza. Además, el método es útil si 
   tiene objetos muy grandes que no necesitan guardarse por completo.
   
  </p>
  <p class="para">
   Por el contrario, <span class="function"><a href="#function.unserialize" class="function">unserialize()</a></span> comprueba la presencia de un método con el nombre mágico  
   <a href="#object.wakeup" class="link">__wakeup()</a>. Si está presente, este método puede reconstruir 
   cualquier recurso que el objeto pueda tener.
   
  </p>
  <p class="para">
   El uso para el que está destinado <a href="#object.wakeup" class="link">__wakeup()</a> es restablecer 
   las conexiones de base de datos que se puedan haber perdido durante la serialización y realizar otras tareas 
   de reinicialización.
   
  </p>
  <div class="example" id="example-267">
   <p><strong>Ejemplo #1 Sleep y wakeup</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">Connection<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;protected&nbsp;</span><span style="color: #0000BB">$link</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$dsn</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$username</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$password</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$dsn</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$username</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$password</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dsn&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$dsn</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">username&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$username</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">password&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$password</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connect</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;function&nbsp;</span><span style="color: #0000BB">connect</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">link&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">PDO</span><span style="color: #007700">(</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">dsn</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">username</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">password</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__sleep</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;array(</span><span style="color: #DD0000">'dsn'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'username'</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">'password'</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__wakeup</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connect</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}</span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </div>
 
 <div class="sect2" id="language.oop5.magic.tostring">
  <h3 class="title"><a href="#object.tostring" class="link">__toString()</a></h3>
  <div class="methodsynopsis dc-description" id="object.tostring">
   <span class="modifier">public</span> <span class="type">string</span> <span class="methodname"><strong>__toString</strong></span>
    ( <span class="methodparam">void</span>
   )</div>

  <p class="para">
   El método <a href="#object.tostring" class="link">__toString()</a> permite a una clase 
   decidir cómo comportarse cuando se le trata como un string. Por ejemplo,
   lo que <em>echo $obj;</em> mostraría. Este método debe 
   devolver un string, si no se emitirá un nivel de error fatal <strong><code>E_RECOVERABLE_ERROR</code></strong>.
   
  </p>
  <div class="warning"><strong class="warning">Advertencia</strong>
   <p class="simpara">
    No se puede lanzar una excepción desde dentro un método
    <a href="#object.tostring" class="link">__toString()</a>. Hacerlo 
    resultará en un error fatal.
   </p>
  </div>
  <div class="example" id="example-268">
   <p><strong>Ejemplo #2 Ejemplo simple</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;Declarar&nbsp;una&nbsp;clase&nbsp;simple<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">TestClass<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$foo</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$foo</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$foo</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__toString</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$class&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">TestClass</span><span style="color: #007700">(</span><span style="color: #DD0000">'Hola&nbsp;Mundo'</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$class</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
Hola Mundo
</pre></div>
   </div>
  </div>
  <p class="para">
   Antes de PHP 5.2.0 el método 
   <a href="#object.tostring" class="link">__toString()</a> 
   se llama sólo cuando se combina directamente con
   <span class="function"><a href="#function.echo" class="function">echo</a></span> o <span class="function"><a href="#function.print" class="function">print</a></span>.
   Desde PHP 5.2.0, se le llama en cualquier contexto de string (e.j. en
   <span class="function"><a href="#function.printf" class="function">printf()</a></span> con  el modificador <em>%s</em>) pero no 
   en el contexto de otros tipos (e.j. con el modificador <em>%d</em>).
   Desde PHP 5.2.0, la conversión de los objetos sin el método <a href="#object.tostring" class="link">__toString()</a> 
   a string podría causar <strong><code>E_RECOVERABLE_ERROR</code></strong>.
  </p>
 </div>
 
 <div class="sect2" id="language.oop5.magic.invoke">
  <h3 class="title"><a href="#object.invoke" class="link">__invoke()</a></h3>
  <div class="methodsynopsis dc-description" id="object.invoke">
   <span class="type"><a href="#language.types.mixed" class="type mixed">mixed</a></span> <span class="methodname"><strong>__invoke</strong></span>
    ([ <span class="methodparam"> <code class="parameter">$...</code></span>
  ] )</div>

  <p class="para">
   El método <a href="#object.invoke" class="link">__invoke()</a> es llamado cuando 
   un script intenta llamar a un objeto como si fuera una función.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    Esta característica está disponible desde PHP 5.3.0.
   </p>
  </p></blockquote>
  <div class="example" id="example-269">
   <p><strong>Ejemplo #3 Uso de <a href="#object.invoke" class="link">__invoke()</a></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">CallableClass<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__invoke</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$x</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /></span><span style="color: #0000BB">$obj&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">CallableClass</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$obj</span><span style="color: #007700">(</span><span style="color: #0000BB">5</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">is_callable</span><span style="color: #007700">(</span><span style="color: #0000BB">$obj</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
int(5)
bool(true)
</pre></div>
   </div>
  </div>
 </div>
 
 <div class="sect2" id="language.oop5.magic.set-state">
  <h3 class="title"><a href="#object.set-state" class="link">__set_state()</a></h3>
  <div class="methodsynopsis dc-description" id="object.set-state">
   <span class="modifier">static</span> <span class="type">object</span> <span class="methodname"><strong>__set_state</strong></span>
    ( <span class="methodparam"><span class="type">array</span> <code class="parameter">$properties</code></span>
   )</div>

  <p class="para">
   Este método <a href="#language.oop5.static" class="link">static</a> es llamado para 
   las clases exportadas por <span class="function"><a href="#function.var-export" class="function">var_export()</a></span>, desde PHP 5.1.0.
  </p>
  <p class="para">
   El único parámetro de este método es un array que contiene las propiedades exportadas 
   en la forma <em>array(&#039;property&#039; =&gt; value, ...)</em>.
  </p>
  <div class="example" id="example-270">
   <p><strong>Ejemplo #4 Uso de <a href="#object.set-state" class="link">__set_state()</a> (desde PHP 5.1.0)</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">A<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$var1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$var2</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">__set_state</span><span style="color: #007700">(</span><span style="color: #0000BB">$an_array</span><span style="color: #007700">)&nbsp;</span><span style="color: #FF8000">//&nbsp;A&nbsp;partir&nbsp;de&nbsp;PHP&nbsp;5.1.0<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$obj&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">var1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$an_array</span><span style="color: #007700">[</span><span style="color: #DD0000">'var1'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">var2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$an_array</span><span style="color: #007700">[</span><span style="color: #DD0000">'var2'</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">var1&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">5</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">var2&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #DD0000">'foo'</span><span style="color: #007700">;<br /><br />eval(</span><span style="color: #DD0000">'$b&nbsp;=&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">var_export</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">';'</span><span style="color: #007700">);&nbsp;</span><span style="color: #FF8000">//&nbsp;$b&nbsp;=&nbsp;A::__set_state(array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;'var1'&nbsp;=&gt;&nbsp;5,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;&nbsp;&nbsp;&nbsp;'var2'&nbsp;=&gt;&nbsp;'foo',<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;));<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$b</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
object(A)#2 (2) {
  [&quot;var1&quot;]=&gt;
  int(5)
  [&quot;var2&quot;]=&gt;
  string(3) &quot;foo&quot;
}
</pre></div>
   </div>
  </div>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <span class="simpara">
    Al exportar un objeto, <span class="function"><a href="#function.var-export" class="function">var_export()</a></span> no comprueba
    si <a href="#object.set-state" class="link">__set_state()</a> está
    implementado por la clase del objeto, por lo que la reimportación de tales objetos fallará
    si __set_state() no está implementado. Esto, en particular, afecta a algunas
    clases internas.
   </span>
   <span class="simpara">
    Es responsabilidad del programador verificar que solamente se vayan
    a reimportar los objetos cuya clase implemente __set_state().
   </span>
  </p></blockquote>
 </div>
 
 <div class="sect2" id="language.oop5.magic.debuginfo">
  <h3 class="title"><a href="#object.debuginfo" class="link">__debugInfo()</a></h3>
  <div class="methodsynopsis dc-description" id="object.debuginfo">
   <span class="type">array</span> <span class="methodname"><strong>__debugInfo</strong></span>
    ( <span class="methodparam">void</span>
   )</div>

  <p class="para">
   Este método es invocado por <span class="function"><a href="#function.var-dump" class="function">var_dump()</a></span> al volcar un
   objeto para obtener las propiedades que deberían mostrarse. Si el método no está
   definido sobre un objeto, se mostrarán todas las propiedades públicas
   protegidas y privadas.
  </p>
  <p class="para">
   Esta característica se añadió en PHP 5.6.0.
  </p>
  <div class="example" id="example-271">
   <p><strong>Ejemplo #5 Utilizar <a href="#object.debuginfo" class="link">__debugInfo()</a></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">C&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;</span><span style="color: #0000BB">$prop</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$val</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">prop&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$val</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__debugInfo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;[<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #DD0000">'propSquared'&nbsp;</span><span style="color: #007700">=&gt;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">prop&nbsp;</span><span style="color: #007700">**&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;];<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(new&nbsp;</span><span style="color: #0000BB">C</span><span style="color: #007700">(</span><span style="color: #0000BB">42</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
object(C)#1 (1) {
  [&quot;propSquared&quot;]=&gt;
  int(1764)
}
</pre></div>
   </div>
  </div>
 </div>
</div>
<hr />





 



<div id="language.oop5.final" class="sect1"><hr />
 <h2 class="title">Palabra clave Final</h2>
 <p class="para">
  PHP 5 introduce la nueva palabra clave final, que impide que las clases
  hijas sobrescriban un método, antecediendo su definición con <em class="emphasis">final</em>.
  Si la propia clase se define como final, entonces no se podrá heredar de ella.
 </p>
 <p class="para">
  <div class="example" id="example-272">
   <p><strong>Ejemplo #1 Ejemplo de métodos Final</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">BaseClass&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">test</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"llamada&nbsp;a&nbsp;BaseClass::test()\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;final&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">moreTesting</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"llamada&nbsp;a&nbsp;BaseClass::moreTesting()\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">ChildClass&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">BaseClass&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">moreTesting</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"llamada&nbsp;a&nbsp;ChildClass::moreTesting()\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}<br />}<br /></span><span style="color: #FF8000">//&nbsp;Devuelve&nbsp;un&nbsp;error&nbsp;Fatal:&nbsp;Cannot&nbsp;override&nbsp;final&nbsp;method&nbsp;BaseClass::moreTesting()<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </p>
 <p class="para">
  <div class="example" id="example-273">
   <p><strong>Ejemplo #2 Ejemplo de clase Final</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">final&nbsp;class&nbsp;</span><span style="color: #0000BB">BaseClass&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">test</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"llamada&nbsp;a&nbsp;BaseClass::test()\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Aquí&nbsp;no&nbsp;importa&nbsp;si&nbsp;definimos&nbsp;una&nbsp;función&nbsp;como&nbsp;final&nbsp;o&nbsp;no<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">final&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">moreTesting</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"llamada&nbsp;a&nbsp;BaseClass::moreTesting()\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">ChildClass&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">BaseClass&nbsp;</span><span style="color: #007700">{<br />}<br /></span><span style="color: #FF8000">//&nbsp;Devuelve&nbsp;un&nbsp;error&nbsp;Fatal:&nbsp;Class&nbsp;ChildClass&nbsp;may&nbsp;not&nbsp;inherit&nbsp;from&nbsp;final&nbsp;class&nbsp;(BaseClass)<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

  </div>
 </p>
 <blockquote class="note"><p><strong class="note">Nota</strong>: 
  <span class="simpara">
   Las propiedades no pueden declararse como final. Sólo pueden
   las clases y los métodos.
  </span>
 </p></blockquote>
</div>
<hr />




 



<div id="language.oop5.cloning" class="sect1"><hr />
 <h2 class="title">Clonación de Objetos</h2>
 
 <p class="para">
  No siempre se desea crear una copia de un objeto replicando todas sus propiedades
  completamente. Un buen ejemplo que ilustra la necesidad de contar con un constructor
  de copias, sería si tuviéramos un objeto que represente una ventana en GTK y el
  objeto almacene los recursos de esta ventana GTK, de forma que cuando creas un duplicado
  el comportamiento esperado sería una nueva ventana con las mismas propiedades, y que
  el nuevo objeto referencie a los recursos de la nueva ventana. Otro ejemplo es si un
  objeto hace referencia a otro objeto necesario, de forma que cuando se realiza una
  réplica del objeto principal, se espera que se cree una nueva instancia de este otro
  objeto, de forma que la réplica tenga su propia copia.
 </p>
 
 <p class="para">
  Para crear una copia de un objeto se utiliza la palabra clave <em class="emphasis">clone</em> (que invoca,
  si fuera posible, al método <a href="#object.clone" class="link">__clone()</a> del objeto). No se puede llamar al método
  <a href="#object.clone" class="link">__clone()</a> de un objeto directamente. 
 </p>
 
 <div class="informalexample">
  <div class="example-contents">
<div class="cdata"><pre>
$copia_de_objeto = clone $objeto;
</pre></div>
  </div>

 </div>
 
 <p class="para">
  Cuando se clona un objeto, PHP5 llevará a cabo una copia superficial de
  las propiedades del objeto. Las propiedades que sean referencias a otras
  variables, mantendrán las referencias.
 </p>
 
 <div class="methodsynopsis dc-description" id="object.clone">
  <span class="type"><span class="type void">void</span></span> <span class="methodname"><strong>__clone</strong></span>
   ( <span class="methodparam">void</span>
  )</div>

 
 <p class="para">
  Una vez que la clonación ha finalizado, se llamará al método <a href="#object.clone" class="link">__clone()</a>
  del nuevo objeto (si el método <a href="#object.clone" class="link">__clone()</a> estuviera definido), para permitirle
  realizar los cambios necesarios sobre sus propiedades.
 </p>
 
 <div class="example" id="example-274">
  <p><strong>Ejemplo #1 Clonación de un objeto</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">SubObject<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;</span><span style="color: #0000BB">$instances&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">0</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$instance</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__construct</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">instance&nbsp;</span><span style="color: #007700">=&nbsp;++</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$instances</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">__clone</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">instance&nbsp;</span><span style="color: #007700">=&nbsp;++</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">$instances</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">MyCloneable<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$object1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$object2</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">__clone</span><span style="color: #007700">()<br />&nbsp;&nbsp;&nbsp;&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;Forzamos&nbsp;la&nbsp;copia&nbsp;de&nbsp;this-&gt;object,&nbsp;si&nbsp;no<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;hará&nbsp;referencia&nbsp;al&nbsp;mismo&nbsp;objeto.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">object1&nbsp;</span><span style="color: #007700">=&nbsp;clone&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">object1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$obj&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">MyCloneable</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">object1&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SubObject</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">object2&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">SubObject</span><span style="color: #007700">();<br /><br /></span><span style="color: #0000BB">$obj2&nbsp;</span><span style="color: #007700">=&nbsp;clone&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">;<br /><br /><br />print(</span><span style="color: #DD0000">"Objeto&nbsp;Original:\n"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$obj</span><span style="color: #007700">);<br /><br />print(</span><span style="color: #DD0000">"Objeto&nbsp;Clonado:\n"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">print_r</span><span style="color: #007700">(</span><span style="color: #0000BB">$obj2</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

  <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
  <div class="example-contents screen">
<div class="cdata"><pre>
Objeto Original:
MyCloneable Object
(
    [object1] =&gt; SubObject Object
        (
            [instance] =&gt; 1
        )

    [object2] =&gt; SubObject Object
        (
            [instance] =&gt; 2
        )

)
Objeto Clonado:
MyCloneable Object
(
    [object1] =&gt; SubObject Object
        (
            [instance] =&gt; 3
        )

    [object2] =&gt; SubObject Object
        (
            [instance] =&gt; 2
        )

)
</pre></div>
   
  </div>
  
 </div>
 
 <p class="para">
  PHP 7.0.0 introdujo la posibilidad de acceder a un miembro del objeto
  recién clonado en una única expresión:
 </p>
 <div class="example" id="example-275">
  <p><strong>Ejemplo #2 Acceder a un miembre del objeto recién clonado</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$dateTime&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">DateTime</span><span style="color: #007700">();<br />echo&nbsp;(clone&nbsp;</span><span style="color: #0000BB">$dateTime</span><span style="color: #007700">)-&gt;</span><span style="color: #0000BB">format</span><span style="color: #007700">(</span><span style="color: #DD0000">'Y'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

  <div class="example-contents"><p>El resultado del ejemplo 
sería algo similar a:</p></div>
  <div class="example-contents screen">
<div class="cdata"><pre>
2016
</pre></div>
   </div>
 </div>
 
</div>
<hr />




 



<div id="language.oop5.object-comparison" class="sect1"><hr />
 <h2 class="title">Comparación de Objetos</h2>
 <p class="para">
  Al utilizar el operador de comparación (<em>==</em>), 
  se comparan de una forma sencilla las variables de cada objeto, es decir: dos instancias
  de un objeto son iguales si tienen los mismos atributos y valores (los valores se comparan con <em>==</em>),
  y son instancias de la misma clase.
 </p>
 <p class="para">
  Cuando se utiliza el operador identidad (<em>===</em>),
  las variables de un objeto son idénticas sí y sólo sí hacen referencia a la
  misma instancia de la misma clase.
 </p>
 <p class="para">
  Un ejemplo aclarará estas reglas.
  <div class="example" id="example-276">
   <p><strong>Ejemplo #1 Ejemplo de comparación de objetos en PHP 5</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">bool2str</span><span style="color: #007700">(</span><span style="color: #0000BB">$bool</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(</span><span style="color: #0000BB">$bool&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">false</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">'FALSO'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;else&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #DD0000">'VERDADERO'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />function&nbsp;</span><span style="color: #0000BB">compararObjetos</span><span style="color: #007700">(&amp;</span><span style="color: #0000BB">$o1</span><span style="color: #007700">,&nbsp;&amp;</span><span style="color: #0000BB">$o2</span><span style="color: #007700">)<br />{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'o1&nbsp;==&nbsp;o2&nbsp;:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">bool2str</span><span style="color: #007700">(</span><span style="color: #0000BB">$o1&nbsp;</span><span style="color: #007700">==&nbsp;</span><span style="color: #0000BB">$o2</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'o1&nbsp;!=&nbsp;o2&nbsp;:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">bool2str</span><span style="color: #007700">(</span><span style="color: #0000BB">$o1&nbsp;</span><span style="color: #007700">!=&nbsp;</span><span style="color: #0000BB">$o2</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'o1&nbsp;===&nbsp;o2&nbsp;:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">bool2str</span><span style="color: #007700">(</span><span style="color: #0000BB">$o1&nbsp;</span><span style="color: #007700">===&nbsp;</span><span style="color: #0000BB">$o2</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">'o1&nbsp;!==&nbsp;o2&nbsp;:&nbsp;'&nbsp;</span><span style="color: #007700">.&nbsp;</span><span style="color: #0000BB">bool2str</span><span style="color: #007700">(</span><span style="color: #0000BB">$o1&nbsp;</span><span style="color: #007700">!==&nbsp;</span><span style="color: #0000BB">$o2</span><span style="color: #007700">)&nbsp;.&nbsp;</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">Bandera<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$bandera</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">Bandera</span><span style="color: #007700">(</span><span style="color: #0000BB">$bandera&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bandera&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$bandera</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">OtraBandera<br /></span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$bandera</span><span style="color: #007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;</span><span style="color: #0000BB">OtraBandera</span><span style="color: #007700">(</span><span style="color: #0000BB">$bandera&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">true</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bandera&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$bandera</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">$o&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Bandera</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$p&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">Bandera</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$q&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$o</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$r&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">OtraBandera</span><span style="color: #007700">();<br /><br />echo&nbsp;</span><span style="color: #DD0000">"Dos&nbsp;instancias&nbsp;de&nbsp;la&nbsp;misma&nbsp;clase\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">compararObjetos</span><span style="color: #007700">(</span><span style="color: #0000BB">$o</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$p</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #DD0000">"\nDos&nbsp;referencias&nbsp;a&nbsp;la&nbsp;misma&nbsp;instancia\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">compararObjetos</span><span style="color: #007700">(</span><span style="color: #0000BB">$o</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$q</span><span style="color: #007700">);<br /><br />echo&nbsp;</span><span style="color: #DD0000">"\nInstancias&nbsp;de&nbsp;dos&nbsp;clases&nbsp;diferentes\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">compararObjetos</span><span style="color: #007700">(</span><span style="color: #0000BB">$o</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$r</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
Dos instancias de la misma clase
o1 == o2 : VERDADERO
o1 != o2 : FALSO
o1 === o2 : FALSO
o1 !== o2 : VERDADERO

Dos referencias a la misma instancia
o1 == o2 : VERDADERO
o1 != o2 : FALSO
o1 === o2 : VERDADERO
o1 !== o2 : FALSO

Instancias de dos clases diferentes
o1 == o2 : FALSO
o1 != o2 : VERDADERO
o1 === o2 : FALSO
o1 !== o2 : VERDADERO
</pre></div>
   </div>
  </div>
 </p>
 <blockquote class="note"><p><strong class="note">Nota</strong>: 
  <p class="para">
   Las extensiones pueden definir sus propias reglas para la comparación de sus objetos
   (<em>==</em>).
  </p>
 </p></blockquote>
</div>
<hr />




 



<div id="language.oop5.typehinting" class="sect1"><hr />
 <h2 class="title">Determinación de tipos</h2>
 
 <p class="para">
  Esta documentación ha sido movida a la
  <a href="#functions.arguments.type-declaration" class="link">referencia de funciones</a>.
 </p>
</div>
<hr />




 



<div id="language.oop5.late-static-bindings" class="sect1"><hr />
 <h2 class="title">Enlaces estáticos en tiempo de ejecución</h2>
 <p class="para">
  Desde su versión 5.3.0, PHP incorpora una nueva funcionalidad llamada enlace estático en tiempo de
  ejecución (&quot;late static bindings&quot; en inglés) que permite referirse referencias a la clase invocada en un contexto de herencia estática.
 </p>
 
 <p class="para">
  De forma más precisa, un enlace estático en tiempo de ejecución funciona almacenando el nombre de clase de
  la última llamada que no tenga «propagación». En el caso de llamadas a métodos estáticos,
  se trata de la clase nombrada explícitamente (normalmente la que precede al operador 
  <a href="#language.oop5.paamayim-nekudotayim" class="link"><em>::</em></a>);
  en los casos de llamadas a métodos no estáticos, es clase del objeto. Una
  «llamada con propagación» es una llamada estática que precedida por <em>self::</em>,
  <em>parent::</em>, <em>static::</em>, o, siguiendo
  la jerarquía de clases, <span class="function"><a href="#function.forward-static-call" class="function">forward_static_call()</a></span>.
  
  
  La función <span class="function"><a href="#function.get-called-class" class="function">get_called_class()</a></span> puede utilizarse para obtener
  una cadena con el nombre de la clase invocada, y <em>static::</em>
  revela cuál es su alcance. 
 </p>
 
 <p class="para">
  A esta funcionalidad se le ha llamado «enlace estático en tiempo de ejecución» teniendo en cuenta un punto
  de vista interno. «Enlace en tiempo de ejecución» viene del hecho de que <em>static::</em>
  no será resuelto usando la clase donde el método está definido, sino que en su lugar se
  calculará utilizando información en tiempo de ejecución.
  
  También se le llamó «enlace estático» debido a que se puede utilizar
  (entre otras cosas) para llamadas a métodos estáticos.
 </p>
 
 <div class="sect2" id="language.oop5.late-static-bindings.self">
  <h3 class="title">Limitaciones de <em>self::</em></h3>
  <p class="para">
   Las referencias estáticas a la clase en uso, como <em>self::</em> o 
   <em>__CLASS__</em>, se resuelven empleando la clase a la que
   pertenece la función:
  </p>
  <div class="example" id="example-277">
   <p><strong>Ejemplo #1 Uso de <em>self::</em></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">who</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">__CLASS__</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">test</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">who</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">who</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">__CLASS__</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">B</span><span style="color: #007700">::</span><span style="color: #0000BB">test</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
A
</pre></div>
   </div>
  </div>
  
 </div>
 
 <div class="sect2" id="language.oop5.late-static-bindings.usage">
  <h3 class="title">Uso de enlaces estático en tiempo de ejecución</h3>
  
  <p class="para">
   Los enlaces estáticos en tiempo de ejecución tratan de resolver esta limitación empleando una
   palabra reservada que se refiera a la clase invocada inicialmente en tiempo de ejecución;
   básicamente, una palabra reservada que permita referirse a
   a <em>B</em> desde <em>test()</em>, según el ejemplo
   anterior. Se decidió no crear una nueva palabra reservada, si no utilizar
   en su lugar <em>static</em>, que ya era reservada.
  </p>
  
  <div class="example" id="example-278">
   <p><strong>Ejemplo #2 Uso básico de <em>static::</em></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">who</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">__CLASS__</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">test</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static::</span><span style="color: #0000BB">who</span><span style="color: #007700">();&nbsp;</span><span style="color: #FF8000">//&nbsp;He&nbsp;aquí&nbsp;el&nbsp;enlace&nbsp;estático&nbsp;en&nbsp;tiempo&nbsp;de&nbsp;ejecución<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">who</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">__CLASS__</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">B</span><span style="color: #007700">::</span><span style="color: #0000BB">test</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
B
</pre></div>
   </div>
  </div>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    En contextos no estáticos, la clase invocada será la clase de la instancia del
    objeto. Dado que <em>$this-&gt;</em> trata de invocar métodos
    privados desde su mismo ámbito, el uso de <em>static::</em> puede dar
    diferentes resultados. Otra diferencia es que <em>static::</em>
    sólo puede referirse a propiedades estáticas.
   </p>
  </p></blockquote>
  <div class="example" id="example-279">
   <p><strong>Ejemplo #3 Uso de <em>static::</em> en un contexto no estático</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #DD0000">"¡Éxito!\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">test</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static::</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;foo()&nbsp;se&nbsp;copiará&nbsp;en&nbsp;B,&nbsp;por&nbsp;lo&nbsp;tanto&nbsp;su&nbsp;ámbito&nbsp;seguirá&nbsp;siendo&nbsp;A<br />&nbsp;&nbsp;&nbsp;&nbsp;*&nbsp;y&nbsp;la&nbsp;llamada&nbsp;tendrá&nbsp;éxito&nbsp;*/<br /></span><span style="color: #007700">}<br /><br />class&nbsp;</span><span style="color: #0000BB">C&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">/*&nbsp;se&nbsp;reemplaza&nbsp;el&nbsp;método&nbsp;original;&nbsp;el&nbsp;ámbito&nbsp;del&nbsp;nuevo&nbsp;es&nbsp;ahora&nbsp;C&nbsp;*/<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">}<br />}<br /><br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">B</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$b</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">test</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">C</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">test</span><span style="color: #007700">();&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//falla<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
¡Éxito!
¡Éxito!
¡Éxito!


Fatal error:  Call to private method C::foo() from context &#039;A&#039; in /tmp/test.php on line 9
</pre></div>
   </div>
  </div>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    En una llamada que se resuelva como estática, la resolución de enlaces estáticos
    en tiempo de ejecución se detendrá sin propagarse. Por otra parte, las
    llamadas estáticas que utilicen palabras reservadas como <em>parent::</em> o
    <em>self::</em> sí propagarán la información de llamada.
   </p>
   <div class="example" id="example-280">
    <p><strong>Ejemplo #4 Llamadas que propagan y que no propagan la información de llamada</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;static::</span><span style="color: #0000BB">who</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">who</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">__CLASS__</span><span style="color: #007700">.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br />class&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">test</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">::</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">parent</span><span style="color: #007700">::</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">self</span><span style="color: #007700">::</span><span style="color: #0000BB">foo</span><span style="color: #007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">who</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">__CLASS__</span><span style="color: #007700">.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br />class&nbsp;</span><span style="color: #0000BB">C&nbsp;</span><span style="color: #007700">extends&nbsp;</span><span style="color: #0000BB">B&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;static&nbsp;function&nbsp;</span><span style="color: #0000BB">who</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">__CLASS__</span><span style="color: #007700">.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br />}<br /><br /></span><span style="color: #0000BB">C</span><span style="color: #007700">::</span><span style="color: #0000BB">test</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
    </div>

    <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
A
C
C
</pre></div>
    </div>
   </div>
  </p></blockquote>
 </div>
</div>
<hr />




 


 <div id="language.oop5.references" class="sect1"><hr />
  <h2 class="title">Objetos y referencias</h2>
  <p class="para">
   Uno de los puntos clave de la POO de PHP 5 que a menudo se menciona es que
   &quot;por omisión los objetos se pasan por referencia&quot;. Esto no es completamente
   cierto. Esta sección rectifica esa creencia general, usando algunos ejemplos.
  </p>

  <p class="para">
   Una referencia en PHP es un alias, que permite a dos variables diferentes escribir
   sobre un mismo valor. Desde PHP 5, una variable de tipo objeto ya no contiene el
   objeto en sí como valor. Únicamente contiene un identificador del objeto que le permite
   localizar al objeto real. Cuando se pasa un objeto como parámetro, o se devuelve como
   retorno, o se asigna a otra variable, las distintas variables no son alias: guardan una 
   copia del identificador, que apunta al mismo objeto.
  </p>

  <div class="example" id="example-281">
   <p><strong>Ejemplo #1 Referencias y Objetos</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />}&nbsp;&nbsp;<br /><br /></span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$b&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$a&nbsp;y&nbsp;$b&nbsp;son&nbsp;copias&nbsp;del&nbsp;mismo&nbsp;identificador<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;($a)&nbsp;=&nbsp;($b)&nbsp;=&nbsp;&lt;id&gt;<br /></span><span style="color: #0000BB">$b</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo</span><span style="color: #007700">.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /><br /></span><span style="color: #0000BB">$c&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;&amp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;$c&nbsp;y&nbsp;$d&nbsp;son&nbsp;referencias<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//&nbsp;($c,$d)&nbsp;=&nbsp;&lt;id&gt;<br /><br /></span><span style="color: #0000BB">$d</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />echo&nbsp;</span><span style="color: #0000BB">$c</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo</span><span style="color: #007700">.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /><br /></span><span style="color: #0000BB">$e&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">;<br /><br />function&nbsp;</span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$obj</span><span style="color: #007700">)&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;($obj)&nbsp;=&nbsp;($e)&nbsp;=&nbsp;&lt;id&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">2</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">foo</span><span style="color: #007700">(</span><span style="color: #0000BB">$e</span><span style="color: #007700">);<br />echo&nbsp;</span><span style="color: #0000BB">$e</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">foo</span><span style="color: #007700">.</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
2
2
2
</pre></div>
   </div>
  </div>
 </div>
<hr />



 



<div id="language.oop5.serialization" class="sect1"><hr />
 <h2 class="title">Serialización de objetos</h2>
 <h2 class="title">serialización de objetos - objetos en sesiones</h2>
 
 <p class="para">
  La función <span class="function"><a href="#function.serialize" class="function">serialize()</a></span> devuelve un string que contiene
  un flujo de bytes que representa cualquier valor que se pueda almacenar
  en PHP. Por otra parte, <span class="function"><a href="#function.unserialize" class="function">unserialize()</a></span> puede restaurar
  los valores originales a partir de dicho string. Al utilizar serialize para
  guardar un objeto, almacenará todas las variables de dicho objeto. En cambio
  los métodos no se guardarán, sólo el nombre de la clase.
 </p>
 
 <p class="para">
  Para poder deserializar (<span class="function"><a href="#function.unserialize" class="function">unserialize()</a></span>) un objeto, debe
  estar definida la clase de ese objeto. Es decir, si se tiene un objeto de la
  clase A, y lo serializamos, se obtendrá un string que haga referencia a la clase A
  y contenga todas las variables que haya en esta clase. Si se desea deseralizar en
  otro fichero, antes debe estar presente la definición de la clase A. Esto se
  puede hacer, por ejemplo, escribiendo la definición de la clase A en un fichero,
  para después o bien incluirlo, o bien hacer uso de la función
  <span class="function"><a href="#function.spl-autoload-register" class="function">spl_autoload_register()</a></span>.
 </p>
 
 <div class="informalexample">
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">//&nbsp;classa.inc:<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;</span><span style="color: #007700">class&nbsp;</span><span style="color: #0000BB">A&nbsp;</span><span style="color: #007700">{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;</span><span style="color: #0000BB">$one&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">1</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;public&nbsp;function&nbsp;</span><span style="color: #0000BB">show_one</span><span style="color: #007700">()&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">one</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;}<br />&nbsp;&nbsp;<br /></span><span style="color: #FF8000">//&nbsp;page1.php:<br /><br />&nbsp;&nbsp;</span><span style="color: #007700">include(</span><span style="color: #DD0000">"classa.inc"</span><span style="color: #007700">);<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;new&nbsp;</span><span style="color: #0000BB">A</span><span style="color: #007700">;<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$s&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">serialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$a</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;almacenamos&nbsp;$s&nbsp;en&nbsp;algún&nbsp;lugar&nbsp;en&nbsp;el&nbsp;que&nbsp;page2.php&nbsp;puede&nbsp;encontrarlo.<br />&nbsp;&nbsp;</span><span style="color: #0000BB">file_put_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'store'</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$s</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">//&nbsp;page2.php:<br />&nbsp;&nbsp;<br />&nbsp;&nbsp;//&nbsp;se&nbsp;necesita&nbsp;para&nbsp;que&nbsp;unserialize&nbsp;funcione&nbsp;correctamente.<br />&nbsp;&nbsp;</span><span style="color: #007700">include(</span><span style="color: #DD0000">"classa.inc"</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;</span><span style="color: #0000BB">$s&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'store'</span><span style="color: #007700">);<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$a&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">unserialize</span><span style="color: #007700">(</span><span style="color: #0000BB">$s</span><span style="color: #007700">);<br /><br />&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;now&nbsp;use&nbsp;the&nbsp;function&nbsp;show_one()&nbsp;of&nbsp;the&nbsp;$a&nbsp;object.&nbsp;&nbsp;<br />&nbsp;&nbsp;</span><span style="color: #0000BB">$a</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">show_one</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</code></div>
  </div>

 </div>
 
 <p class="para">
  Si una aplicación está usando sesiones, y utiliza
  <span class="function"><a href="#function.session-register" class="function">session_register()</a></span> para registrar objetos, estos objetos
  se serializarán automáticamente al final de cada página PHP, y se deserializan
  también automáticamente en cada una de las siguientes peticiones. Esto significa que,
  una vez que formen parte de la sesión, estos objetos se podrán utilizar en
  cualquier página de la aplicación. Sin embargo, la función
  <span class="function"><a href="#function.session-register" class="function">session_register()</a></span>: ha sido borrada a partir de PHP 5.4.0
 </p>
 
 <p class="para">
  Si una aplicación serializa objetos para su uso posterior, se recomienda
  encarecidamente que se incluya la definición de la clase en toda la aplicación.
  Si no se hiciera, se deserializaría el objeto sin una definición de clase, lo
  cual daría como resultado que PHP definiera al objeto con la clase
  <strong class="classname">__PHP_Incomplete_Class_Name</strong>,
  que no tiene métodos, haciendo que el objeto no fuera útil.
 </p>
 
 <p class="para">
  Por tanto, si en el ejemplo anterior <var class="varname"><var class="varname">$a</var></var> se guardara en una sesión
  mediante <em>session_register(&quot;a&quot;)</em>, sería necesario incluir el fichero
  <em>classa.inc</em> en todas las páginas, no sólo en <var class="filename">page1.php</var>
  y <var class="filename">page2.php</var>.
 </p>
 
 <p class="para">
  Más allá del consejo de arriba, observe que también se puede conectar con eventos de
  serialización y deserialización sobre un objeto usando los métodos
  <a href="#object.sleep" class="link">__sleep()</a> y
  <a href="#object.wakeup" class="link">__wakeup()</a>. El uso de
  <a href="#object.sleep" class="link">__sleep()</a> también permite serializar
  únicamente un subconjunto de propiedades de objetos.
 </p>
</div>
<hr />




 



<div id="language.oop5.changelog" class="sect1"><hr />
 <h2 class="title">Registro de cambios de la POO</h2>
 <p class="para">
  Aquí se registran los cambios del modelo de POO de PHP 5. Las descripciones y otras notas respecto
  a estas nuevas funcionalidades están documentadas dentro de la documentación de POO 5.
 </p>
 <p class="para">
  <table class="doctable informaltable">
   
    <thead>
     <tr>
      <th>Versión</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>7.0.0</td>
      <td>
       Definir propiedades (compatibles) en dos rasgos («traits») ya no lanza un error.
      </td>
     </tr>

     <tr>
      <td>5.6.0</td>
      <td>
       Añadido: El método <a href="#object.debuginfo" class="link">__debugInfo()</a>.
      </td>
     </tr>

     <tr>
      <td>5.5.0</td>
      <td>
       Añadido: La constante mágica <a href="#language.oop5.basic.class.class" class="link">::class</a>.
      </td>
     </tr>

     <tr>
      <td>5.5.0</td>
      <td>
       Añadido: <a href="#language.exceptions" class="link">finally</a> para manejar excepciones.
      </td>
     </tr>

     <tr>
      <td>5.4.0</td>
      <td>
       Añadido: <a href="#language.oop5.traits" class="link">traits</a>.
      </td>
     </tr>

     <tr>
      <td>5.4.0</td>
      <td>
       Cambiado: Si una clase <a href="#language.oop5.abstract" class="link">abstracta</a> 
       define una firma para el constructor, ahora se hará cumplir.
      </td>
     </tr>

     <tr>
      <td>5.3.3</td>
      <td>
       Cambiado: Los métodos con el mismo nombre que el último elemento de un nombre
       de clase perteneciente a un <a href="#language.namespaces" class="link">espacio de nombres</a>
       ya no serán tratados como un
       <a href="#language.oop5.decon" class="link">constructor</a>. Este cambio no
       afecta a las clases que no pertenecen a un espacio de nombres.
      </td>
     </tr>

     <tr>
      <td>5.3.0</td>
      <td>
       Cambiado: Ya no es necesario que los valores predeterminados
       de los métodos de una clase que implemente un interfaz coincidan con
       los valores predeterminados de los prototipos de la interfaz.
      </td>
     </tr>

     <tr>
      <td>5.3.0</td>
      <td>
       Cambiado: Ahora es posible hacer referencia a la clase utilizando una variable
       (p.ej., <em>echo $nombreclase::constante;</em>).
       La variable no puede contener como valor una palabra reservada (p.ej., <em>self</em>,
       <em>parent</em> o <em>static</em>).
      </td>
     </tr>

     <tr>
      <td>5.3.0</td>
      <td>
       Cambiado: Se emite un error de nivel <strong><code>E_WARNING</code></strong> si
       al <a href="#language.oop5.overloading" class="link">sobrecargar</a> un método
       mágico se le declara como <a href="#language.oop5.static" class="link">estático</a>.
       Además, hace necesario que tenga visibilidad pública.
      </td>
     </tr>

     <tr>
      <td>5.3.0</td>
      <td>
       Cambiado: Antes de 5.3.0, las excepciones lanzadas en la función 
       <span class="function"><a href="#function.autoload" class="function">__autoload()</a></span> no podían capturarse
       en el bloque <a href="#language.exceptions" class="link">catch</a>, y provocaban
       un error fatal. Ahora, las excepciones lanzadas dentro de la función __autoload
       pueden capturarse en el bloque <a href="#language.exceptions" class="link">catch</a>, con
       una única salvedad: Si se lanza una excepción definida por el usuario, esta excepción
       debería estar disponible. Se puede utilizar recursivamente la función __autoload para
       cargar automáticamente la clase de la excepción definida por el usuario.
      </td>
     </tr>

     <tr>
      <td>5.3.0</td>
      <td>
       Añadido: El método <a href="#language.oop5.overloading" class="link">__callStatic</a>.
      </td>
     </tr>

     <tr>
      <td>5.3.0</td>
      <td>
       Añadido: El soporte para <a href="#language.types.string.syntax.heredoc" class="link">heredoc</a>
       y <a href="#language.types.string.syntax.heredoc" class="link">nowdoc</a>
       para <em class="emphasis">constantes</em> de clase y definición de propiedades.
       Nota: los valores heredoc deben seguir las mismas reglas que los string de
       comillas dobles (p.ej., no contener variables).
      </td>
     </tr>

     <tr>
      <td>5.3.0</td>
      <td>
       Añadido: <a href="#language.oop5.late-static-bindings" class="link">Enlaces estáticos en tiempo de ejecución</a>.
      </td>
     </tr>

     <tr>
      <td>5.3.0</td>
      <td>
       Añadido: El método <a href="#object.invoke" class="link">__invoke()</a>.
      </td>
     </tr>

     <tr>
      <td>5.2.0</td>
      <td>
       Cambiado: Al método <a href="#object.tostring" class="link">__toString()</a>
       sólo se le invocaba cuando se le combinaba con <span class="function"><a href="#function.echo" class="function">echo</a></span> o con
       <span class="function"><a href="#function.print" class="function">print</a></span>. Pero ahora, se le invoca en cualquier contexto de string
       (p.ej, en <span class="function"><a href="#function.printf" class="function">printf()</a></span> con el modificador <em>%s</em>) pero no
       en contextos de otro tipo (p.ej. con el modificador <em>%d</em>).
       Desde PHP 5.2.0, convertir objetos a string sin el método <em>__toString</em>
       emitirá un error de nivel <strong><code>E_RECOVERABLE_ERROR</code></strong>.
      </td>
     </tr>

     <tr>
      <td>5.1.3</td>
      <td>
       Cambiado: En versiones anteriores de PHP 5, se consideraba obsoleto
       el uso de <em>var</em> y emitía un error de nivel
       <strong><code>E_STRICT</code></strong>. Ya no está obsoleto, y por tanto no emite el error.
      </td>
     </tr>

     <tr>
      <td>5.1.0</td>
      <td>
       Cambiado: Ahora se invoca al método estático
       <a href="#object.set-state" class="link">__set_state()</a> en las clases
       exportadas por <span class="function"><a href="#function.var-export" class="function">var_export()</a></span>.
      </td>
     </tr>

     <tr>
      <td>5.1.0</td>
      <td>
       Añadido: Los métodos <a href="#object.isset" class="link">__isset()</a> 
       y <a href="#object.unset" class="link">__unset()</a>.
      </td>
     </tr>

    </tbody>
   
  </table>

 </p>
</div>
<hr />




</div>

<hr />



  


</body>
</html>